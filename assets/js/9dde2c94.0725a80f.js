(self.webpackChunk_documentation_serenity_js_org=self.webpackChunk_documentation_serenity_js_org||[]).push([[21358],{24310:(e,t,a)=>{e.exports={src:{srcSet:a.p+"assets/ideal-img/serenity-js-screenplay-pattern.5eead28.1200.png 1200w",images:[{path:a.p+"assets/ideal-img/serenity-js-screenplay-pattern.5eead28.1200.png",width:1200,height:578}],src:a.p+"assets/ideal-img/serenity-js-screenplay-pattern.5eead28.1200.png",toString:function(){return a.p+"assets/ideal-img/serenity-js-screenplay-pattern.5eead28.1200.png"},placeholder:void 0,width:1200,height:578},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAaUlEQVQImTWNAQ4DIAgD/f9njSKIGOlSthlMG3ratvdOVcU5J+ecVPBkJjimA+6arbZAwb13UL9Q/iKUaRGRZgYzy3svFWst0DNz92prNIQIRESBY4yC6UWk2lgd/JqvRaSq33t1/7WMP1QXw6eFHIPFAAAAAElFTkSuQmCC"}},30876:(e,t,a)=>{"use strict";a.d(t,{Zo:()=>c,kt:()=>d});var n=a(2784);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=p(a),h=r,d=m["".concat(l,".").concat(h)]||m[h]||u[h]||i;return a?n.createElement(d,o(o({ref:t},c),{},{components:a})):n.createElement(d,o({ref:t},c))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[m]="string"==typeof e?e:r,o[1]=s;for(var p=2;p<i;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},33142:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var n=a(2784),r=a(6277);const i={tabItem:"tabItem_OMyP"};function o(e){let{children:t,hidden:a,className:o}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(i.tabItem,o),hidden:a},t)}},43193:(e,t,a)=>{"use strict";a.d(t,{Z:()=>h});var n=a(7896),r=a(2784),i=a(6277),o=a(25425),s=a(66806),l=a(50717);const p={tabList:"tabList_M0Dn",tabItem:"tabItem_ysIP"};function c(e){let{className:t,block:a,selectedValue:s,selectValue:l,tabValues:c}=e;const m=[],{blockElementScrollPositionUntilNextRender:u}=(0,o.o5)(),h=e=>{const t=e.currentTarget,a=m.indexOf(t),n=c[a].value;n!==s&&(u(t),l(n))},d=e=>{let t=null;switch(e.key){case"Enter":h(e);break;case"ArrowRight":{const a=m.indexOf(e.currentTarget)+1;t=m[a]??m[0];break}case"ArrowLeft":{const a=m.indexOf(e.currentTarget)-1;t=m[a]??m[m.length-1];break}}t?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":a},t)},c.map((e=>{let{value:t,label:a,attributes:o}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:s===t?0:-1,"aria-selected":s===t,key:t,ref:e=>m.push(e),onKeyDown:d,onClick:h},o,{className:(0,i.Z)("tabs__item",p.tabItem,o?.className,{"tabs__item--active":s===t})}),a??t)})))}function m(e){let{lazy:t,children:a,selectedValue:n}=e;const i=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},i.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function u(e){const t=(0,s.Y)(e);return r.createElement("div",{className:(0,i.Z)("tabs-container",p.tabList)},r.createElement(c,(0,n.Z)({},e,t)),r.createElement(m,(0,n.Z)({},e,t)))}function h(e){const t=(0,l.Z)();return r.createElement(u,(0,n.Z)({key:String(t)},e))}},66806:(e,t,a)=>{"use strict";a.d(t,{Y:()=>u});var n=a(2784),r=a(7267),i=a(24236),o=a(53432),s=a(79675);function l(e){return function(e){return n.Children.map(e,(e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:r}}=e;return{value:t,label:a,attributes:n,default:r}}))}function p(e){const{values:t,children:a}=e;return(0,n.useMemo)((()=>{const e=t??l(a);return function(e){const t=(0,o.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function c(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:a}=e;const o=(0,r.k6)(),s=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,i._X)(s),(0,n.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(o.location.search);t.set(s,e),o.replace({...o.location,search:t.toString()})}),[s,o])]}function u(e){const{defaultValue:t,queryString:a=!1,groupId:r}=e,i=p(e),[o,l]=(0,n.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!c({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:i}))),[u,h]=m({queryString:a,groupId:r}),[d,g]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,i]=(0,s.Nk)(a);return[r,(0,n.useCallback)((e=>{a&&i.set(e)}),[a,i])]}({groupId:r}),k=(()=>{const e=u??d;return c({value:e,tabValues:i})?e:null})();(0,n.useLayoutEffect)((()=>{k&&l(k)}),[k]);return{selectedValue:o,selectValue:(0,n.useCallback)((e=>{if(!c({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),g(e)}),[h,g,i]),tabValues:i}}},2657:(e,t,a)=>{"use strict";a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>k,frontMatter:()=>s,metadata:()=>p,toc:()=>m});var n=a(7896),r=(a(2784),a(30876)),i=a(43193),o=a(33142);const s={sidebar_position:1},l="Screenplay Pattern",p={unversionedId:"design/screenplay-pattern",id:"design/screenplay-pattern",title:"Screenplay Pattern",description:"The Screenplay Pattern is an innovative, user-centred approach",source:"@site/docs/design/screenplay-pattern.mdx",sourceDirName:"design",slug:"/design/screenplay-pattern",permalink:"/handbook/design/screenplay-pattern",draft:!1,editUrl:"https://github.com/serenity-js/serenity-js/tree/main/documentation/serenity-js.org/docs/design/screenplay-pattern.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Core Design Patterns",permalink:"/handbook/design/"},next:{title:"Assertions and expectations",permalink:"/handbook/design/assertions"}},c={},m=[{value:"The design principle",id:"the-design-principle",level:2},{value:"The five elements of the Screenplay Pattern",id:"the-five-elements-of-the-screenplay-pattern",level:2},{value:"Screenplay Pattern with Serenity/JS",id:"screenplay-pattern-with-serenityjs",level:2},{value:"Actors",id:"actors",level:3},{value:"Abilities",id:"abilities",level:3},{value:"Interactions",id:"interactions",level:3},{value:"Questions",id:"questions",level:3},{value:"Tasks",id:"tasks",level:3},{value:"Performing activities at multiple levels",id:"performing-activities-at-multiple-levels",level:2},{value:"Screenplay Pattern in test scenarios",id:"screenplay-pattern-in-test-scenarios",level:2},{value:"Start with Serenity/JS Screenplay Pattern \ud83d\ude80",id:"start-with-serenityjs-screenplay-pattern-",level:2},{value:"History of the Screenplay Pattern",id:"history-of-the-screenplay-pattern",level:2}],u=(h="Figure",function(e){return console.warn("Component "+h+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",e)});var h;const d={toc:m},g="wrapper";function k(e){let{components:t,...s}=e;return(0,r.kt)(g,(0,n.Z)({},d,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"screenplay-pattern"},"Screenplay Pattern"),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},"Screenplay Pattern")," is an innovative, ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/User-centered_design"},"user-centred")," approach\nto writing high-quality automated acceptance tests.\nIt steers your team towards effectively using ",(0,r.kt)("strong",{parentName:"p"},"layers of abstraction"),",\nhelps your test scenarios capture the ",(0,r.kt)("strong",{parentName:"p"},"business vocabulary")," of ",(0,r.kt)("strong",{parentName:"p"},"your domain"),",\nand encourages good testing and software engineering habits."),(0,r.kt)("p",null,"Focusing on actors and their goals and incorporating your domain language into test scenarios\nimproves ",(0,r.kt)("strong",{parentName:"p"},"team collaboration")," and ",(0,r.kt)("strong",{parentName:"p"},"alignment"),", enabling technical and business stakeholders to understand\nand readily contribute to the test automation process."),(0,r.kt)("p",null,"Serenity/JS implementation of the Screenplay Pattern enables developers to easily introduce this design approach\neven into ",(0,r.kt)("a",{parentName:"p",href:"/handbook/getting-started/#modernising-existing-projects"},"existing test automation projects"),".\nMoreover, the framework\nprovides ",(0,r.kt)("a",{parentName:"p",href:"/handbook/getting-started/architecture/#serenityjs-screenplay-pattern-apis"},"integration libraries")," to\nfacilitate various test automation types, including end-to-end, component, mobile and API testing,\nmaking it a versatile choice for different testing needs.\nSerenity/JS also provides ",(0,r.kt)("a",{parentName:"p",href:"/handbook/reporting/"},"reporting tools")," and ",(0,r.kt)("a",{parentName:"p",href:"/handbook/design/"},"code reuse patterns")," that facilitate\nsharing test code across projects and teams and reducing maintenance costs."),(0,r.kt)("h2",{id:"the-design-principle"},"The design principle"),(0,r.kt)("p",null,"The design principle behind the Screenplay Pattern is simple but might forever change the way you look at test automation:"),(0,r.kt)("admonition",{title:"Remember",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Automated acceptance tests")," should use ",(0,r.kt)("strong",{parentName:"p"},"your domain language")," to clearly express what ",(0,r.kt)("strong",{parentName:"p"},"activities")," the ",(0,r.kt)("strong",{parentName:"p"},"actors"),"\ninteracting with ",(0,r.kt)("strong",{parentName:"p"},"your system")," need to perform in order to accomplish ",(0,r.kt)("strong",{parentName:"p"},"their goals"),".")),(0,r.kt)("p",null,"Applying this design principle to your automated tests has a number of positive implications:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Expressing your test scenarios in ",(0,r.kt)("strong",{parentName:"li"},"your domain language")," makes them easier to understand and accessible to a wider audience"),(0,r.kt)("li",{parentName:"ul"},"Focusing on ",(0,r.kt)("strong",{parentName:"li"},"actors")," and ",(0,r.kt)("strong",{parentName:"li"},"their goals")," makes it easy to correlate any test failures with the actual business impact"),(0,r.kt)("li",{parentName:"ul"},"Modelling actor workflows using sequences of business-focused, reusable ",(0,r.kt)("strong",{parentName:"li"},"activities")," reduces code duplication, improves flexibility of your test code base,\nand means that your team can quickly compose new test scenarios from existing steps")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"To communicate effectively, the code must be based on the same language used to write the requirements\u2014the same language that the developers speak with each other and with domain experts."),(0,r.kt)("p",{parentName:"blockquote"},"\u2015 ",(0,r.kt)("em",{parentName:"p"},"Eric Evans, ",(0,r.kt)("a",{parentName:"em",href:"https://amzn.to/3lKVpFv"},'"Domain-Driven Design: Tackling Complexity in the Heart of Software"')))),(0,r.kt)("h2",{id:"the-five-elements-of-the-screenplay-pattern"},"The five elements of the Screenplay Pattern"),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},"Screenplay Pattern")," uses the ",(0,r.kt)("a",{parentName:"p",href:"https://wiki.c2.com/?SystemMetaphor"},"system metaphor")," of a ",(0,r.kt)("strong",{parentName:"p"},"stage performance"),",\nhelping you model each test scenario like a little ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Screenplay"},"screenplay"),"\ndescribing how the actors should go about performing their activities\nwhile interacting with the ",(0,r.kt)("a",{parentName:"p",href:"http://xunitpatterns.com/SUT.html"},"system under test"),"."),(0,r.kt)("p",null,"Following the Screenplay Pattern helps you capture:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Who")," the actors interacting with your system are"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Why")," they interact with your system"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"What")," they need to do to accomplish their goals"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"How")," exactly they would go about that")),(0,r.kt)("p",null,"The five building blocks of the Screenplay Pattern are:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"#actors"},"Actors")),", who represent ",(0,r.kt)("strong",{parentName:"li"},"people")," and ",(0,r.kt)("strong",{parentName:"li"},"external systems")," interacting with the system under test"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"#abilities"},"Abilities")),", that act as ",(0,r.kt)("strong",{parentName:"li"},"thin wrappers")," around any ",(0,r.kt)("strong",{parentName:"li"},"integration libraries")," required to interact with the system under test"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"#interactions"},"Interactions")),", which represent the ",(0,r.kt)("strong",{parentName:"li"},"low-level activities")," an actor can perform using a given interface"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"#tasks"},"Tasks")),", used to model ",(0,r.kt)("strong",{parentName:"li"},"sequences of activities")," as meaningful steps of a business workflow in your domain"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"#questions"},"Questions")),", used to ",(0,r.kt)("strong",{parentName:"li"},"retrieve information")," from the system under test and the test execution environment")),(0,r.kt)(u,{caption:"Five elements of the Screenplay Pattern",img:a(24310),mdxType:"Figure"}),(0,r.kt)("h2",{id:"screenplay-pattern-with-serenityjs"},"Screenplay Pattern with Serenity/JS"),(0,r.kt)("p",null,"The best way to illustrate the Screenplay Pattern is through a practical example, so assume for a moment that we're writing a test scenario\nfor an online shop. The shop has a REST API that lets us configure its product catalogue with some test data,\nand a web storefront that lets customers find the products they need and make a purchase."),(0,r.kt)("h3",{id:"actors"},"Actors"),(0,r.kt)("p",null,"A test scenario following the Screenplay Pattern has one or multiple ",(0,r.kt)("a",{parentName:"p",href:"/api/core/class/Actor"},(0,r.kt)("strong",{parentName:"a"},"actors")),"\nrepresenting people and external systems interacting with the system under test and playing specific roles."),(0,r.kt)("admonition",{title:"The role of an actor",type:"info"},(0,r.kt)("p",{parentName:"admonition"},'Just like the five core elements of the Screenplay Pattern, the term "role" comes from the system metaphor of a ',(0,r.kt)("strong",{parentName:"p"},"stage performance"),'.\nIt should be interpreted as the role a given actor plays in the performance,\nthe role they play in the system. Some good examples of roles include "a doctor", "a trader", or "a writer".'),(0,r.kt)("p",{parentName:"admonition"},'While a "role" might imply the ',(0,r.kt)("em",{parentName:"p"},"permissions"),' a given actor has in the system they interact with (e.g. a "writer" can write articles,\nbut only a "publisher" publishes articles), this is not a mechanism to ',(0,r.kt)("em",{parentName:"p"},"prevent")," the actor from performing activities inconsistent with their role."),(0,r.kt)("p",{parentName:"admonition"},'In particular, Serenity/JS will not prevent you from writing scenarios where a "writer" tries to impersonate a "publisher"\nand publish an article. If it did, you would not be able to test if your system correctly implemented its access control mechanisms!')),(0,r.kt)("p",null,"Our example scenario could have two actors, who we'll call:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Apisitt, responsible for setting up test data using the REST API"),(0,r.kt)("li",{parentName:"ul"},"Wendy, representing a customer interacting with the web UI")),(0,r.kt)("p",null,"With Serenity/JS, we can instantiate new actors or retrieve the ones we've already referenced in the given scenario using the function\n",(0,r.kt)("a",{parentName:"p",href:"/api/core/function/actorCalled"},(0,r.kt)("inlineCode",{parentName:"a"},"actorCalled"))," and providing their name:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import { actorCalled } from '@serenity-js/core'\n\nactorCalled('Apisitt')\nactorCalled('Wendy')\n")),(0,r.kt)("p",null,"Learn more about:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/core/class/Actor"},"Actors")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/core/function/actorCalled"},(0,r.kt)("inlineCode",{parentName:"a"},"actorCalled")))),(0,r.kt)("h3",{id:"abilities"},"Abilities"),(0,r.kt)("p",null,"Actors have ",(0,r.kt)("a",{parentName:"p",href:"/api/core/class/Ability"},(0,r.kt)("strong",{parentName:"a"},"abilities"))," that enable them to interact with the various interfaces\nof the system under test."),(0,r.kt)("admonition",{title:"Did you know?",type:"info"},(0,r.kt)("p",{parentName:"admonition"},'The word "screen" in "screenplay" has nothing to do with the ',(0,r.kt)("em",{parentName:"p"},"computer screen"),".\nOn the contrary, the Screenplay Pattern is a ",(0,r.kt)("strong",{parentName:"p"},"general method")," of modelling acceptance tests interacting with ",(0,r.kt)("em",{parentName:"p"},"any"),"\nexternal interface of your system. In fact, Serenity/JS implementation of the Screenplay Pattern can help you\nbreak free from UI-only-based testing!")),(0,r.kt)("p",null,"For example, Apisitt will interact with the ",(0,r.kt)("a",{parentName:"p",href:"/api/rest"},"REST API")," using an Axios HTTP client:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import { actorCalled } from '@serenity-js/core'\nimport { CallAnApi } from '@serenity-js/rest'\n\nactorCalled('Apisitt')\n    .whoCan(CallAnApi.using({ baseURL: 'https://api.example.org' }))\n")),(0,r.kt)("p",null,"At the same time, Wendy will interact with the ",(0,r.kt)("a",{parentName:"p",href:"/api/web"},"web UI")," using Playwright (although she could do so using any other ",(0,r.kt)("a",{parentName:"p",href:"/handbook/web-testing/"},"popular web browser driver supported by Serenity/JS"),"):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import { actorCalled } from '@serenity-js/core'\nimport { BrowseTheWebWithPlaywright } from '@serenity-js/playwright'\n\nimport { chromium } from 'playwright'\n\nconst browser = await chromium.launch({ headless: true })\n\nactorCalled('Wendy')\n    .whoCan(BrowseTheWebWithPlaywright.using(browser))\n")),(0,r.kt)("p",null,"Learn more about:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/core/class/Ability"},"Abilities")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/handbook/web-testing/"},"Web testing")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/handbook/api-testing/"},"Api testing")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/handbook/mobile-testing/"},"Mobile testing"))),(0,r.kt)("h3",{id:"interactions"},"Interactions"),(0,r.kt)("p",null,"Abilities enable actors to perform ",(0,r.kt)("a",{parentName:"p",href:"/api/core/class/Interaction"},(0,r.kt)("strong",{parentName:"a"},"interactions"))," with the system under test.\nInteractions are command objects that instruct an actor how to use their abilities to perform the given activity.\nMost interactions you will need are already provided by ",(0,r.kt)("a",{parentName:"p",href:"/handbook/about/architecture"},"Serenity/JS modules"),",\nand you can easily ",(0,r.kt)("a",{parentName:"p",href:"/api/core/class/Interaction"},"create new ones")," if you'd like to."),(0,r.kt)("p",null,"Here, we instruct Apisitt to use the interaction to ",(0,r.kt)("a",{parentName:"p",href:"/api/rest/class/Send"},(0,r.kt)("inlineCode",{parentName:"a"},"Send.a(HTTPRequest)"))," from the ",(0,r.kt)("a",{parentName:"p",href:"/api/rest"},"Serenity/JS REST")," module\nto set up some test data for our test scenario:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"// ...\nimport { CallAnApi, PostRequest } from '@serenity-js/rest'\n\n// ...\n\nawait actorCalled('Apisitt')\n    .whoCan(CallAnApi.using(httpClient))\n    .attemptsTo(                                    // actors attempt to perform interactions\n        Send.a(PostRequest.to('/products').with([   // interactions like `Send` are command objects\n            { name: 'Apples', price: '\xa32.50' }\n        ])),\n    )\n")),(0,r.kt)("p",null,"We can also instruct Wendy to use interactions from the ",(0,r.kt)("a",{parentName:"p",href:"/api/web"},"Serenity/JS Web")," module\nto ",(0,r.kt)("a",{parentName:"p",href:"/api/web/class/Navigate"},"navigate")," to the web interface of our system under test:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"// ...\nimport { BrowseTheWebWithPlaywright } from '@serenity-js/playwright'\nimport { Navigate } from '@serenity-js/web'\n\n// ...\n\nawait actorCalled('Wendy')\n    .whoCan(BrowseTheWebWithPlaywright.using(browser))\n    .attemptsTo(\n        Navigate.to('https://example.org'), // all Serenity/JS interactions have a consistent API,\n    )                                       // no matter the interface they're interacting with\n")),(0,r.kt)("p",null,"Learn more about:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/core/class/Actor"},"Actors")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/core/class/Interaction"},"Interactions")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/handbook/design/debugging"},"Debugging"))),(0,r.kt)("h3",{id:"questions"},"Questions"),(0,r.kt)("p",null,"Apart from enabling interactions, abilities also enable actors to answer ",(0,r.kt)("a",{parentName:"p",href:"/api/core/class/Question"},(0,r.kt)("strong",{parentName:"a"},"questions")),"\nabout the state of the system under test. Questions provide a way to parameterise activities\nand allow actors to retrieve information when the activity is performed."),(0,r.kt)("p",null,"For example, we could instruct Apisitt to answer the question about the ",(0,r.kt)("a",{parentName:"p",href:"/api/rest/class/LastResponse#status"},(0,r.kt)("inlineCode",{parentName:"a"},"LastResponse.status()")),"\nand use it to ",(0,r.kt)("a",{parentName:"p",href:"/api/assertions/class/Ensure"},(0,r.kt)("inlineCode",{parentName:"a"},"Ensure.that"))," his last request returned\nan expected status code (note that ",(0,r.kt)("a",{parentName:"p",href:"/handbook/design/assertions"},"Serenity/JS assertions")," work just like any other interaction):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"// ...\nimport { CallAnApi, PostRequest, Send, LastResponse } from '@serenity-js/rest'\nimport { Ensure, equals } from '@serenity-js/assertions'\n\n// ...\n\nawait actorCalled('Apisitt')\n    .whoCan(CallAnApi.using(httpClient))\n    .attemptsTo(\n        Send.a(PostRequest.to('/products').with([ { name: 'Apples', price: '\xa32.50' } ])),\n        Ensure.that(\n            LastResponse.status(),\n            equals(201)\n        )\n    )\n")),(0,r.kt)("p",null,"Even though Wendy uses a web browser and not an API client, the way we instruct her to answer ",(0,r.kt)("a",{parentName:"p",href:"/handbook/web-testing/"},"web questions"),"\nand ",(0,r.kt)("a",{parentName:"p",href:"/handbook/design/assertions#web-assertions"},"perform web assertions")," is consistent with how you'd interact with any other interface:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"// ...\nimport { BrowseTheWebWithPlaywright } from '@serenity-js/playwright'\nimport { Navigate, Page } from '@serenity-js/web'\nimport { Ensure, endsWith } from '@serenity-js/assertions'\n\n// ...\n\nawait actorCalled('Wendy')\n    .whoCan(BrowseTheWebWithPlaywright.using(browser))\n    .attemptsTo(\n        Navigate.to('https://example.org'),\n        Ensure.that(\n            Page.current().title(),\n            endsWith('My Example Shop'),\n        )\n    )\n")),(0,r.kt)("p",null,"Learn more about:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/core/class/Question"},"Questions")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/handbook/design/assertions"},"Assertions and expectations")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/handbook/design/logging"},"Logging")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/handbook/design/debugging"},"Debugging"))),(0,r.kt)("h3",{id:"tasks"},"Tasks"),(0,r.kt)("p",null,"The idea that underpins the Screenplay Pattern is to capture your domain language and use your acceptance tests as an opportunity to demonstrate\nhow actors interacting with your system accomplish their goals."),(0,r.kt)("p",null,"Conceptually similar to functions, ",(0,r.kt)("a",{parentName:"p",href:"/api/core/class/Task"},(0,r.kt)("strong",{parentName:"a"},"tasks"))," offer an easy way to associate business meaning with sequences of activities\nand turn them into reusable building blocks."),(0,r.kt)("p",null,"Here, we extract some of the activities performed by Apisitt and turn them into a reusable task to ",(0,r.kt)("inlineCode",{parentName:"p"},"setupProductCatalogue"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import { actorCalled, Task } from '@serenity-js/core'\nimport { CallAnApi, PostRequest } from '@serenity-js/rest'\nimport { Ensure, equals } from '@serenity-js/assertions'\n\n// ...\n\ninterface Product {\n    name: string;\n    price: string;\n}\n\nconst setupProductCatalogue = (products: Product[]) =>\n    Task.where(`#actor sets up the product catalogue`,\n        Send.a(PostRequest.to('/products').with(products)),\n        Ensure.that(\n            LastResponse.status(),\n            equals(201)\n        )\n    )\n\nawait actorCalled('Apisitt')\n    .whoCan(CallAnApi.using(httpClient))\n    .attemptsTo(\n        setupProductCatalogue([ { name: 'Apples', price: '\xa32.50' } ])\n    )\n")),(0,r.kt)("p",null,"In the exact same manner we define a task for Wendy to ",(0,r.kt)("inlineCode",{parentName:"p"},"openOnlineStore"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import { actorCalled, Task } from '@serenity-js/core'\nimport { Navigate, Page } from '@serenity-js/web'\nimport { Ensure, endsWith } from '@serenity-js/assertions'\n// ...\n\nconst openOnlineStore = () =>\n    Task.where(`#actor opens the online store`,\n        Navigate.to('https://example.org'),\n        Ensure.that(\n            Page.current().title(),\n            endsWith('My Example Shop'),\n        )\n    )\n\nawait actorCalled('Wendy')\n    .whoCan(BrowseTheWebWithPlaywright.using(browser))\n    .attemptsTo(\n        openOnlineStore(),\n    )\n")),(0,r.kt)("p",null,"Learn more about:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/core/class/Actor"},"Actors")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/core/class/Task"},"Tasks"))),(0,r.kt)("h2",{id:"performing-activities-at-multiple-levels"},"Performing activities at multiple levels"),(0,r.kt)("p",null,"The role of an actor is to perform ",(0,r.kt)("a",{parentName:"p",href:"/api/core/class/Activity"},"activities")," that demonstrate how to accomplish a given goal."),(0,r.kt)("admonition",{title:"Remember",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Actors")," represent ",(0,r.kt)("strong",{parentName:"p"},"people")," and ",(0,r.kt)("strong",{parentName:"p"},"external systems")," interacting with the system under test.")),(0,r.kt)("p",null,"For example, we might have an acceptance test that demonstrates how the system under test enables an actor to accomplish the goal of booking a plane\nticket.\nIf we were using Serenity/JS with a spec-style test runner like ",(0,r.kt)("a",{parentName:"p",href:"/handbook/test-runners/jasmine"},"Jasmine"),", ",(0,r.kt)("a",{parentName:"p",href:"/handbook/test-runners/mocha"},"Mocha"),", or ",(0,r.kt)("a",{parentName:"p",href:"/handbook/test-runners/playwright-test"},"Playwright Test"),",\nwe could implement such scenario like this:"),(0,r.kt)(i.Z,{groupId:"code-examples",mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"playwright-test",label:"Playwright Test",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'tab={"label":"Playwright Test"}',tab:'{"label":"Playwright','Test"}':!0},"import { describe, it, test } from '@serenity-js/playwright-test'\n\ntest.use({ defaultActorName: 'Trevor' })\n\ndescribe('Serenity Airlines flight booking', () => {                            // system feature\n\n  it('should allow travellers to book a plane ticket', async ({ actor }) => {   // scenario goal\n    await actor.attemptsTo(\n      findFlight('London', 'New York'),                                         // activities\n      chooseFlightClass(FlightClass.Economy),\n      providePaymentDetails(defaultCard),\n      receiveBookingConfirmation(),\n    )\n  })\n})\n"))),(0,r.kt)(o.Z,{value:"mocha",label:"Mocha",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'tab={"label":"Mocha"}',tab:'{"label":"Mocha"}'},"import { actorCalled } from '@serenity-js/core'\nimport { describe, it } from 'mocha'\n\ndescribe('Serenity Airlines flight booking', () => {                            // system feature\n\n  it('should allow travellers to book a plane ticket', () => {                  // scenario goal\n    await actorCalled('Trevor').attemptsTo(\n      findFlight('London', 'New York'),                                         // activities\n      chooseFlightClass(FlightClass.Economy),\n      providePaymentDetails(defaultCard),\n      receiveBookingConfirmation(),\n    )\n  })\n})\n"))),(0,r.kt)(o.Z,{value:"jasmine",label:"Jasmine",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'tab={"label":"Jasmine"}',tab:'{"label":"Jasmine"}'},"import { actorCalled } from '@serenity-js/core'\n\ndescribe('Serenity Airlines flight booking', () => {                            // system feature\n\n  it('should allow travellers to book a plane ticket', () => {                  // scenario goal\n    await actorCalled('Trevor').attemptsTo(\n      findFlight('London', 'New York'),                                         // activities\n      chooseFlightClass(FlightClass.Economy),\n      providePaymentDetails(defaultCard),\n      receiveBookingConfirmation(),\n    )\n  })\n})\n")))),(0,r.kt)("p",null,"If we were using ",(0,r.kt)("a",{parentName:"p",href:"/handbook/test-runners/cucumber"},"Cucumber.js"),", the name of the feature, the goal of the scenario,\nas well as the high-level steps necessary to achieve the goal would already be captured in our ",(0,r.kt)("a",{parentName:"p",href:"https://cucumber.io/docs/gherkin/reference/"},(0,r.kt)("inlineCode",{parentName:"a"},".feature"))," files:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-gherkin"},"Feature: Serenity Airlines flight booking                                       # system feature\n\n  Scenario: traveller books a plane ticket                                      # scenario goal\n\n    Given Trevor finds a flight from 'London' to 'New York'                     # high-level steps\n      And he chooses the 'Economy' flight class\n     When he provides his payment details\n     Then he should receive a booking confirmation\n")),(0,r.kt)("p",null,"In this case, each Cucumber ",(0,r.kt)("a",{parentName:"p",href:"https://cucumber.io/docs/cucumber/step-definitions/?lang=javascript"},"step definition")," is mapped\nto a Serenity/JS actor performing one or more activities.\nCompleting those activities helps the actor accomplish the mini-goal of the associated Cucumber step:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import { Given } from '@cucumber/cucumber'\nimport { Actor } from '@serenity-js/core'\n\nGiven('{actor} finds a flight from {string} to {string}',                       // step goal\n  async (actor: Actor, origin: string, destination: string) => {\n    await actor.attemptsTo(\n      findFlight(origin, destination),                                          // activities\n    )\n  }\n)\n\nGiven(`{pronoun} chooses the '{flightClass}' flight class`,                     // step goal\n  async (actor: Actor, flightClass: FlightClass) => {\n    await actor.attemptsTo(\n      chooseFlightClass(flightClass),                                           // activities\n    )\n  }\n)\n")),(0,r.kt)("p",null,"From the implementation perspective, functions like ",(0,r.kt)("inlineCode",{parentName:"p"},"findFlight")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"providePaymentDetails")," produce ",(0,r.kt)("a",{parentName:"p",href:"/api/core/class/Activity"},"activities"),",\nwhich are ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Command_pattern"},"command objects")," that encapsulate information needed for the actor to perform some defined action."),(0,r.kt)("p",null,"The way you instruct an actor to perform some activities is always exactly the same, no matter the kind of test you write\nor the type of interface the actor interacts with - you pass them to the ",(0,r.kt)("a",{parentName:"p",href:"/api/core/class/Actor#attemptsTo"},(0,r.kt)("inlineCode",{parentName:"a"},"Actor.attemptsTo"))," method.\nThis method call makes the actor attempt to perform the activities one by one and returns a standard JavaScript ",(0,r.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"},(0,r.kt)("inlineCode",{parentName:"a"},"Promise")),"\nthat's resolved when the process is finished, or rejected in case of any errors:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import { actorCalled } from '@serenity-js/core'\n\nawait actorCalled('Alice').attemptsTo(\n    activity1,\n    activity2,\n    activity3,\n    // ...\n)\n// returns: Promise<void>\n")),(0,r.kt)("p",null,"Looking at activities from the ",(0,r.kt)("em",{parentName:"p"},"design philosophy perspective"),", however, can be much more interesting."),(0,r.kt)("p",null,"The role of an actor is not ",(0,r.kt)("em",{parentName:"p"},"just")," to perform ",(0,r.kt)("em",{parentName:"p"},"any")," activities. It is to perform activities that demonstrate how a goal can be accomplished at the given ",(0,r.kt)("strong",{parentName:"p"},"level of abstraction"),".\nThe interesting bit is that the way we describe what the goal is and the vocabulary we use to describe what activities it requires vary depending on the level of abstraction we're operating at."),(0,r.kt)("admonition",{title:"Remember",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Actors")," demonstrate how to accomplish a ",(0,r.kt)("strong",{parentName:"p"},"goal")," by performing ",(0,r.kt)("strong",{parentName:"p"},"activities")," at multiple ",(0,r.kt)("strong",{parentName:"p"},"levels of abstraction"),".")),(0,r.kt)("p",null,"At the ",(0,r.kt)("strong",{parentName:"p"},"high levels of abstraction"),", e.g. in business-focused acceptance test scenarios,\nthe vocabulary we use is rooted in the ",(0,r.kt)("strong",{parentName:"p"},"business domain"),", and so are the names we choose for the activities."),(0,r.kt)("p",null,"For example, an acceptance test scenario might state that for the system to enable the actor to accomplish the ",(0,r.kt)("strong",{parentName:"p"},"goal")," of ",(0,r.kt)("em",{parentName:"p"},"booking a plane ticket"),",\nan actor should be able to successfully perform the following ",(0,r.kt)("strong",{parentName:"p"},"high-level activities"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"find an appropriate flight connection,"),(0,r.kt)("li",{parentName:"ul"},"choose flight class,"),(0,r.kt)("li",{parentName:"ul"},"provide payment details,"),(0,r.kt)("li",{parentName:"ul"},"receive booking confirmation.")),(0,r.kt)("p",null,"The names we give functions that produce those activities, such as ",(0,r.kt)("inlineCode",{parentName:"p"},"findFlight")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"chooseFlightClass"),",\nrepresent those steps in the business process and are agnostic of the interface through which actors interact with the system under test."),(0,r.kt)("admonition",{title:"Model the expected process, not the existing implementation",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"When describing an acceptance test at a high level of abstraction,\nthe way we ",(0,r.kt)("strong",{parentName:"p"},"name the activities")," is focused on representing the steps of the ",(0,r.kt)("strong",{parentName:"p"},"expected business process"),"\nand ",(0,r.kt)("strong",{parentName:"p"},"not tied to the implementation"),' of any specific interface of the system under test.\n"Find an appropriate flight connection", "choose flight class", or "provide payment details"\nare all good examples of such high-level activity names.'),(0,r.kt)("p",{parentName:"admonition"},"This design approach helps to produce test scenarios that are ",(0,r.kt)("strong",{parentName:"p"},"easier to read and understand")," and to a much ",(0,r.kt)("strong",{parentName:"p"},"wider audience")," than the traditional test scripts.\nIt also results in two other major advantages:"),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"once the business process is clearly described in our test scenario, we can often use our acceptance tests to identify ",(0,r.kt)("strong",{parentName:"li"},"obstacles in user journeys"),", or even ",(0,r.kt)("strong",{parentName:"li"},"highlight errors")," and ",(0,r.kt)("strong",{parentName:"li"},"hidden assumptions")," in the ",(0,r.kt)("strong",{parentName:"li"},"business process")," itself"),(0,r.kt)("li",{parentName:"ul"},"since we're not tying the implementation to any particular interface, we leave ourselves ",(0,r.kt)("strong",{parentName:"li"},"more integration options")," when it comes to automation.")),(0,r.kt)("p",{parentName:"admonition"},"After all, most business process stepscould be accomplished in different ways.\nAn actor could ",(0,r.kt)("inlineCode",{parentName:"p"},"findFlight")," by interacting with a web UI, a mobile app, by sending requests to a web service, or even by actually going to the ticket office at the airport!")),(0,r.kt)("p",null,"At the ",(0,r.kt)("strong",{parentName:"p"},"low level of abstraction"),", e.g. in UI component tests, the vocabulary we use to describe actor's activities\nis focused on the ",(0,r.kt)("strong",{parentName:"p"},"interface")," the actor needs to interact with.\nHere the goal might be to ",(0,r.kt)("em",{parentName:"p"},"use the web UI to specify the origin airport"),". To accomplish it, the actor would need to:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"click on the ",(0,r.kt)("inlineCode",{parentName:"li"},"origin airport")," widget"),(0,r.kt)("li",{parentName:"ul"},"enter the name of the origin city, like ",(0,r.kt)("inlineCode",{parentName:"li"},"London")),(0,r.kt)("li",{parentName:"ul"},"pick the first suggested airport from the list")),(0,r.kt)("admonition",{title:"Remember",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"The core idea behind the Screenplay Pattern is to express the acceptance tests from the perspective of ",(0,r.kt)("strong",{parentName:"p"},"actors"),"\nplaying a certain ",(0,r.kt)("strong",{parentName:"p"},"role")," and attempting to accomplish their ",(0,r.kt)("strong",{parentName:"p"},"goals")," by performing ",(0,r.kt)("strong",{parentName:"p"},"activities")," at ",(0,r.kt)("strong",{parentName:"p"},"multiple levels")," of abstraction.")),(0,r.kt)("p",null,"Of course, most activities fall ",(0,r.kt)("strong",{parentName:"p"},"somewhere in between")," the high and low levels of abstraction.\nFurthermore, turns out that ",(0,r.kt)("strong",{parentName:"p"},"higher-level")," activities can be ",(0,r.kt)("strong",{parentName:"p"},"composed of lower-level activities"),",\nwhich themselves could be composed of ",(0,r.kt)("em",{parentName:"p"},(0,r.kt)("strong",{parentName:"em"},"even lower-level activities")),"!"),(0,r.kt)("p",null,"If you're familiar with ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/User_experience_design"},"User Experience Design"),",\nyou might recognise this style of ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Functional_decomposition"},"functional decomposition"),"\nfrom ",(0,r.kt)("a",{parentName:"p",href:"https://janmolak.com/user-centred-design-how-a-50-year-old-technique-became-the-key-to-scalable-test-automation-66a658a36555"},"Hierarchical Task Analysis"),"."),(0,r.kt)("p",null,"The fascinating aspect of looking at your test scenarios as sequences of activities made up of activities,\nmade up of activities, is that this mental model lends itself perfectly to ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Function_composition_(computer_science)"},"functional composition"),"\nand making ",(0,r.kt)("em",{parentName:"p"},"activities")," the primary component of code reuse in Serenity/JS."),(0,r.kt)("h2",{id:"screenplay-pattern-in-test-scenarios"},"Screenplay Pattern in test scenarios"),(0,r.kt)("p",null,"Screenplay Pattern helps you to create acceptance tests that demonstrate how actors interacting with your system\ngo about accomplishing their goals.\nSerenity/JS Screenplay Pattern APIs make it easy to write single- and multi-actor scenarios that interact\nwith any interface of the system under test, help you capture your domain language,\nand produce ",(0,r.kt)("a",{parentName:"p",href:"/handbook/reporting/"},"test reports and living documentation")," that's accessible to everyone involved in your project."),(0,r.kt)("p",null,"Serenity/JS also supports a number of ",(0,r.kt)("a",{parentName:"p",href:"/handbook/test-runners/"},"popular test runners"),",\nincluding ",(0,r.kt)("a",{parentName:"p",href:"/handbook/test-runners/playwright-test"},"Playwright Test")," where your test scenario could look like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="spec/online_store.spec.ts"',title:'"spec/online_store.spec.ts"'},"import { describe, it } from '@serenity-js/playwright-test'\n// ...\n\ndescribe('Online Store', () => {\n    // ...\n\n    it('should allow customers to find products of interest', async ({ actorCalled, browser }) => {\n\n        await actorCalled('Apisitt')\n            .whoCan(CallAnApi.using(httpClient))\n            .attemptsTo(\n                setupProductCatalogue([ { name: 'Apples', price: '\xa32.50' } ]),\n            )\n\n        await actorCalled('Wendy')\n            .whoCan(BrowseTheWebWithPlaywright.using(browser))\n            .attemptsTo(\n                openOnlineStore(),\n                findProductCalled('Apples'),\n                Ensure.that(topSearchResult().name, equals('Apples')),\n                Ensure.that(topSearchResult().price, equals('\xa32.50')),\n            )\n    })\n})\n")),(0,r.kt)("p",null,"Another benefit of using Serenity/JS Screenplay Pattern APIs is that they work great not just\nwith spec-style test runners like ",(0,r.kt)("a",{parentName:"p",href:"/handbook/test-runners/jasmine"},"Jasmine"),", ",(0,r.kt)("a",{parentName:"p",href:"/handbook/test-runners/mocha"},"Mocha"),", or ",(0,r.kt)("a",{parentName:"p",href:"/handbook/test-runners/playwright-test"},"Playwright Test"),"."),(0,r.kt)("p",null,"The user-centred task-based code reuse model will also feel like a natural fit for teams using ",(0,r.kt)("a",{parentName:"p",href:"/handbook/test-runners/cucumber"},"Serenity/JS with Cucumber"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-gherkin",metastring:'title="features/online_store.feature"',title:'"features/online_store.feature"'},"Feature: Online Store\n\n  Scenario: customer finds product by name\n\n    Given Apisitt sets up product catalogue with:\n      | name    | price |\n      | Apples  | \xa32.50 |\n    When Wendy looks for 'Apples'\n    Then she should see top search result of:\n      | name  | Apples |\n      | price | \xa32.50  |\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="features/online_store.steps.ts"',title:'"features/online_store.steps.ts"'},"import { Given, When, Then, DataTable } from '@cucumber/cucumber'\nimport { Actor } from '@serenity-js/core'\n// ...\n\nGiven('{actor} sets up product catalogue with:', (actor: Actor, products: DataTable) =>\n    actor.attemptsTo(\n        setupProductCatalogue(products.hashes()),\n    ))\n\nWhen('{actor} looks for {string}', (actor: Actor, productName: string) =>\n    actor.attemptsTo(\n        openOnlineStore(),\n        findProductCalled(productName),\n    ))\n\nThen('{pronoun} should see top search result of', (actor: Actor, expectedResult: string) =>\n    actor.attemptsTo(\n        Ensure.that(topSearchResult().name, equals(expectedResult.rowsHash().name)),\n        Ensure.that(topSearchResult().price, equals(expectedResult.rowsHash().price)),\n    ))\n")),(0,r.kt)("h2",{id:"start-with-serenityjs-screenplay-pattern-"},"Start with Serenity/JS Screenplay Pattern \ud83d\ude80"),(0,r.kt)("p",null,"The easiest way to ",(0,r.kt)("strong",{parentName:"p"},"experience")," working with Serenity/JS and the Screenplay Pattern is\nto ",(0,r.kt)("strong",{parentName:"p"},"follow the tutorial")," and write ",(0,r.kt)("a",{parentName:"p",href:"/handbook/web-testing/your-first-web-scenario"},(0,r.kt)("strong",{parentName:"a"},"your first web scenario")),"!"),(0,r.kt)("p",null,"When you're ready to ",(0,r.kt)("strong",{parentName:"p"},"start your own test automation project"),", use one of the available ",(0,r.kt)("a",{parentName:"p",href:"/handbook/getting-started#serenityjs-project-templates"},(0,r.kt)("strong",{parentName:"a"},"Serenity/JS Project Templates")),"\nas they include a handful of Screenplay scenarios and combine some of the most popular configurations of Serenity/JS modules and test automation tools:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/serenity-js/serenity-js-cucumber-template"},"REST API testing with Cucumber and Serenity/JS")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/serenity-js/serenity-js-mocha-template"},"REST API testing with Mocha and Serenity/JS")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/serenity-js/serenity-js-cucumber-playwright-template"},"Web testing with Cucumber, Playwright, and Serenity/JS")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/serenity-js/serenity-js/tree/main/examples/playwright-test-todomvc"},"Web testing with Playwright Test and Serenity/JS")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/serenity-js/serenity-js/tree/main/examples/webdriverio-mocha-todomvc"},"Web testing with WebdriverIO, Mocha, and Serenity/JS")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/serenity-js/serenity-js-cucumber-webdriverio-template"},"Web testing with WebdriverIO, Cucumber, and Serenity/JS"))),(0,r.kt)("p",null,"To dive even deeper, check out the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/serenity-js/serenity-js"},"Serenity/JS repository"),"\nand explore the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/serenity-js/serenity-js/tree/main/examples"},"examples"),"."),(0,r.kt)("admonition",{title:"Try Serenity/JS in your browser",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Thanks to ",(0,r.kt)("a",{parentName:"p",href:"/handbook/getting-started#serenityjs-gitpods"},"Gitpod.io"),",\nyou can follow the ",(0,r.kt)("a",{parentName:"p",href:"/handbook/web-testing/your-first-web-scenario"},"web testing tutorial"),"\nand use any of the ",(0,r.kt)("a",{parentName:"p",href:"/handbook/getting-started#serenityjs-project-templates"},"Serenity/JS Project Templates")," right here in your browser,\nno local installation required! \ud83d\ude80")),(0,r.kt)("h2",{id:"history-of-the-screenplay-pattern"},"History of the Screenplay Pattern"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/serenity-js"},"Serenity/JS")," introduced the Screenplay Pattern to JavaScript back in 2016,\nbut the ideas behind the pattern have been around since 2007 in various forms."),(0,r.kt)("p",null,"This list is a chronological order of significant events, implementations, and writings related to the evolution of the Screenplay Pattern."),(0,r.kt)("admonition",{title:"Credits",type:"note"},(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"2007: ",(0,r.kt)("abbr",{title:"Agile Alliance Functional Test Tools"},"AAFTT")," workshop - ",(0,r.kt)("a",{parentName:"li",href:"https://developertesting.com/archives/month200710/20071013-In%20Praise%20of%20Abstraction.html"},"In praise of abstraction")," - ",(0,r.kt)("strong",{parentName:"li"},"Kevin Lawrence")," introduces the idea of using the language of interaction designers to model automated tests"),(0,r.kt)("li",{parentName:"ul"},"2007: ",(0,r.kt)("abbr",{title:"Agile Alliance Functional Test Tools"},"AAFTT")," workshop - ",(0,r.kt)("a",{parentName:"li",href:"http://antonymarcano.com/"},(0,r.kt)("strong",{parentName:"a"},"Antony Marcano"))," demonstrates the ",(0,r.kt)("a",{parentName:"li",href:"http://antonymarcano.com/blog/2011/03/goals-tasks-action/"},'"Roles, Goals, Tasks, Actions" model'),", which later evolves into the Screenplay Pattern"),(0,r.kt)("li",{parentName:"ul"},"2008: ",(0,r.kt)("a",{parentName:"li",href:"https://www.slideshare.net/RiverGlide/a-journey-beyond-the-page-object-pattern"},"JNarrate"),' - first experimental Java implementation of the "Roles, Goals, Tasks, Actions" model by Antony Marcano and ',(0,r.kt)("a",{parentName:"li",href:"https://andypalmer.com/"},(0,r.kt)("strong",{parentName:"a"},"Andy Palmer"))),(0,r.kt)("li",{parentName:"ul"},"2011: ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/RiverGlide/CukeSalad/"},"Cuke Salad"),' - Ruby implementation of the "Roles, Goals, Tasks, Actions" model by Antony Marcano'),(0,r.kt)("li",{parentName:"ul"},"2011: ",(0,r.kt)("a",{parentName:"li",href:"http://antonymarcano.com/blog/2011/03/goals-tasks-action/"},"A bit of UCD for BDD & ATDD: Goals -> Tasks -> Actions"),' - blog post by Antony Marcano explaining the motivation behind the "Roles, Goals, Tasks, Actions" model'),(0,r.kt)("li",{parentName:"ul"},"2012: ",(0,r.kt)("a",{parentName:"li",href:"https://bitbucket-archive.softwareheritage.org/projects/te/testingreflections/screenplay4j.html"},"Screenplay4j")," - first public Java implementation by Antony Marcano and Andy Palmer"),(0,r.kt)("li",{parentName:"ul"},"2012: ",(0,r.kt)("a",{parentName:"li",href:"https://skillsmatter.com/skillscasts/3141-user-centred-scenarios-describing-capabilities-not-solutions"},"User Centred Scenarios: Describing capabilities, not solutions")," - talk by Antony Marcano and ",(0,r.kt)("strong",{parentName:"li"},"James Martin")),(0,r.kt)("li",{parentName:"ul"},"2013: ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/screenplay/screenplay-jvm"},"ScreenplayJVM")," - Java implementation by Antony Marcano and ",(0,r.kt)("a",{parentName:"li",href:"https://linkedin.com/in/janmolak"},(0,r.kt)("strong",{parentName:"a"},"Jan Molak"))),(0,r.kt)("li",{parentName:"ul"},"2013: ",(0,r.kt)("a",{parentName:"li",href:"https://www.slideshare.net/RiverGlide/a-journey-beyond-the-page-object-pattern"},"A journey beyond the page object pattern")," - talk by Antony Marcano, Jan Molak and ",(0,r.kt)("a",{parentName:"li",href:"https://www.linkedin.com/in/kostasmamalis"},(0,r.kt)("strong",{parentName:"a"},"Kostas Mamalis"))),(0,r.kt)("li",{parentName:"ul"},"2015: ",(0,r.kt)("a",{parentName:"li",href:"http://serenity-bdd.info/"},"Serenity BDD")," - ",(0,r.kt)("a",{parentName:"li",href:"https://www.linkedin.com/in/john-ferguson-smart/"},(0,r.kt)("strong",{parentName:"a"},"John Ferguson Smart"))," and Jan Molak, along with Andy Palmer and Antony Marcano, add native support for the Screenplay Pattern to Serenity BDD, popularising the pattern in the Java testing community"),(0,r.kt)("li",{parentName:"ul"},"2016: ",(0,r.kt)("a",{parentName:"li",href:"https://www.infoq.com/articles/Beyond-Page-Objects-Test-Automation-Serenity-Screenplay/"},"Beyond Page Objects: Next Generation Test Automation with Serenity and the Screenplay Pattern")," by Andy Palmer, Antony Marcano, John Ferguson Smart, and Jan Molak"),(0,r.kt)("li",{parentName:"ul"},"2016: ",(0,r.kt)("a",{parentName:"li",href:"https://dzone.com/articles/page-objects-refactored-solid-steps-to-the-screenp"},"Page Objects Refactored: SOLID Steps to the Screenplay/Journey Pattern")," - by Antony Marcano, Andy Palmer, John Ferguson Smart, and Jan Molak"),(0,r.kt)("li",{parentName:"ul"},"2016: ",(0,r.kt)("a",{parentName:"li",href:"https://testerstories.com/2016/06/screenplays-and-journeys-not-page-objects/"},"Screenplays and Journeys, Not Page Objects")," - blog post by Jeff Nyman"),(0,r.kt)("li",{parentName:"ul"},"2016: ",(0,r.kt)("a",{parentName:"li",href:"https://serenity-js.org/handbook/design/screenplay-pattern.html"},"Screenplay Pattern")," as described by Jan Molak"),(0,r.kt)("li",{parentName:"ul"},"2016: ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/serenity-js/serenity-js"},"Serenity/JS")," - Jan Molak starts the Serenity/JS project - the original JavaScript/TypeScript implementation of the Screenplay Pattern"),(0,r.kt)("li",{parentName:"ul"},"2017: ",(0,r.kt)("a",{parentName:"li",href:"https://www.slideshare.net/janmolak/testing-modern-webapps-at-scale"},"Testing modern webapps. At scale."),' - Jan Molak introduces the idea of "Blended Testing" - making Screenplay Pattern tests scenarios interact with multiple interfaces as a way to improve test performance and encourage code reuse'),(0,r.kt)("li",{parentName:"ul"},"2017: ",(0,r.kt)("a",{parentName:"li",href:"https://speakerdeck.com/npryce/having-our-cake-and-eating-it-1"},"Having Our Cake and Eating It")," - ",(0,r.kt)("a",{parentName:"li",href:"http://www.natpryce.com/"},"Nat Pryce")," introduces the idea of using the Screenplay Pattern to write tests that run in milliseconds"),(0,r.kt)("li",{parentName:"ul"},"2019: ",(0,r.kt)("a",{parentName:"li",href:"https://pypi.org/project/screenpy/"},"ScreenPy")," - Python implementation of the Screenplay Pattern by ",(0,r.kt)("a",{parentName:"li",href:"https://www.linkedin.com/in/perry-goy/"},"Perry Goy"),", inspired by Serenity BDD and Serenity/JS implementations"),(0,r.kt)("li",{parentName:"ul"},"2020: ",(0,r.kt)("a",{parentName:"li",href:"https://automationpanda.com/2020/10/16/introducing-boa-constrictor-the-net-screenplay-pattern/"},"Boa Constrictor")," - a .NET implementation of Screenplay by ",(0,r.kt)("a",{parentName:"li",href:"https://automationpanda.com/"},"Andrew Knight"),", inspired by Serenity BDD and Serenity/JS"),(0,r.kt)("li",{parentName:"ul"},"2020: ",(0,r.kt)("a",{parentName:"li",href:"https://cucumber.io/blog/bdd/understanding-screenplay-(part-1)/"},"Understanding Screenplay")," - blog series by ",(0,r.kt)("a",{parentName:"li",href:"https://blog.mattwynne.net/"},"Matt Wynne")),(0,r.kt)("li",{parentName:"ul"},"2021: ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/cucumber/screenplay.js"},"Cucumber Screenplay")," and ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/subsecondtdd/todo-subsecond"},"Sub-second TDD")," - implementation by ",(0,r.kt)("a",{parentName:"li",href:"https://www.aslakhellesoy.com/"},"Aslak Helles\xf8y"),", building on the Screenplay Pattern, and further exploring Nat Pryce's idea of sub-second acceptance tests and Jan Molak's \"blended testing\""),(0,r.kt)("li",{parentName:"ul"},"2021: ",(0,r.kt)("a",{parentName:"li",href:"https://www.manning.com/books/bdd-in-action-second-edition"},"BDD in Action, 2nd Edition")," by John Ferguson Smart and Jan Molak includes several chapters and many examples of using the Screenplay Pattern in Java and TypeScript"))))}k.isMDXComponent=!0}}]);