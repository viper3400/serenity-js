"use strict";(self.webpackChunk_documentation_serenity_js_org=self.webpackChunk_documentation_serenity_js_org||[]).push([[8053],{30876:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>g});var a=n(2784);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=p(n),d=r,g=m["".concat(l,".").concat(d)]||m[d]||c[d]||i;return n?a.createElement(g,o(o({ref:t},u),{},{components:n})):a.createElement(g,o({ref:t},u))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[m]="string"==typeof e?e:r,o[1]=s;for(var p=2;p<i;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},54315:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(2784),r=n(16094);function i(){const{siteConfig:e}=(0,r.default)(),t=e.customFields.currentNodeVersion;return a.createElement("span",null,t)}},33142:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(2784),r=n(6277);const i={tabItem:"tabItem_OMyP"};function o(e){let{children:t,hidden:n,className:o}=e;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(i.tabItem,o),hidden:n},t)}},43193:(e,t,n)=>{n.d(t,{Z:()=>d});var a=n(7896),r=n(2784),i=n(6277),o=n(25425),s=n(66806),l=n(50717);const p={tabList:"tabList_M0Dn",tabItem:"tabItem_ysIP"};function u(e){let{className:t,block:n,selectedValue:s,selectValue:l,tabValues:u}=e;const m=[],{blockElementScrollPositionUntilNextRender:c}=(0,o.o5)(),d=e=>{const t=e.currentTarget,n=m.indexOf(t),a=u[n].value;a!==s&&(c(t),l(a))},g=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=m.indexOf(e.currentTarget)+1;t=m[n]??m[0];break}case"ArrowLeft":{const n=m.indexOf(e.currentTarget)-1;t=m[n]??m[m.length-1];break}}t?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":n},t)},u.map((e=>{let{value:t,label:n,attributes:o}=e;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:s===t?0:-1,"aria-selected":s===t,key:t,ref:e=>m.push(e),onKeyDown:g,onClick:d},o,{className:(0,i.Z)("tabs__item",p.tabItem,o?.className,{"tabs__item--active":s===t})}),n??t)})))}function m(e){let{lazy:t,children:n,selectedValue:a}=e;const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},i.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function c(e){const t=(0,s.Y)(e);return r.createElement("div",{className:(0,i.Z)("tabs-container",p.tabList)},r.createElement(u,(0,a.Z)({},e,t)),r.createElement(m,(0,a.Z)({},e,t)))}function d(e){const t=(0,l.Z)();return r.createElement(c,(0,a.Z)({key:String(t)},e))}},66806:(e,t,n)=>{n.d(t,{Y:()=>c});var a=n(2784),r=n(7267),i=n(24236),o=n(53432),s=n(79675);function l(e){return function(e){return a.Children.map(e,(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:r}}=e;return{value:t,label:n,attributes:a,default:r}}))}function p(e){const{values:t,children:n}=e;return(0,a.useMemo)((()=>{const e=t??l(n);return function(e){const t=(0,o.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function u(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:n}=e;const o=(0,r.k6)(),s=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,i._X)(s),(0,a.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(o.location.search);t.set(s,e),o.replace({...o.location,search:t.toString()})}),[s,o])]}function c(e){const{defaultValue:t,queryString:n=!1,groupId:r}=e,i=p(e),[o,l]=(0,a.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!u({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:i}))),[c,d]=m({queryString:n,groupId:r}),[g,y]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,i]=(0,s.Nk)(n);return[r,(0,a.useCallback)((e=>{n&&i.set(e)}),[n,i])]}({groupId:r}),k=(()=>{const e=c??g;return u({value:e,tabValues:i})?e:null})();(0,a.useLayoutEffect)((()=>{k&&l(k)}),[k]);return{selectedValue:o,selectValue:(0,a.useCallback)((e=>{if(!u({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),y(e)}),[d,y,i]),tabValues:i}}},48192:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>p,default:()=>y,frontMatter:()=>l,metadata:()=>u,toc:()=>c});var a=n(7896),r=(n(2784),n(30876)),i=n(43193),o=n(33142),s=n(54315);const l={sidebar_position:7,title:"Extending Protractor"},p="Extending Protractor with Serenity/JS",u={unversionedId:"getting-started/serenity-js-with-protractor",id:"getting-started/serenity-js-with-protractor",title:"Extending Protractor",description:"Serenity/JS offers excellent support for Protractor!",source:"@site/docs/getting-started/serenity-js-with-protractor.mdx",sourceDirName:"getting-started",slug:"/getting-started/serenity-js-with-protractor",permalink:"/handbook/getting-started/serenity-js-with-protractor",draft:!1,editUrl:"https://github.com/serenity-js/serenity-js/tree/main/documentation/serenity-js.org/docs/getting-started/serenity-js-with-protractor.mdx",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7,title:"Extending Protractor"},sidebar:"tutorialSidebar",previous:{title:"Extending Playwright Test",permalink:"/handbook/getting-started/serenity-js-with-playwright-test"},next:{title:"Extending WebdriverIO",permalink:"/handbook/getting-started/serenity-js-with-webdriverio"}},m={},c=[{value:"About Serenity/JS",id:"about-serenityjs",level:2},{value:"Installing Serenity/JS",id:"installing-serenityjs",level:2},{value:"Configuring Serenity/JS and Protractor",id:"configuring-serenityjs-and-protractor",level:2},{value:"Producing Serenity BDD reports and living documentation",id:"producing-serenity-bdd-reports-and-living-documentation",level:2},{value:"Using Serenity/JS Screenplay Pattern APIs",id:"using-serenityjs-screenplay-pattern-apis",level:2},{value:"Migrating from Protractor to Serenity/JS",id:"migrating-from-protractor-to-serenityjs",level:2},{value:"Locating elements",id:"locating-elements",level:3},{value:"Retrieving information",id:"retrieving-information",level:3},{value:"Performing interactions",id:"performing-interactions",level:3},{value:"Waiting and synchronisation",id:"waiting-and-synchronisation",level:3},{value:"Replacing Protractor with WebdriverIO",id:"replacing-protractor-with-webdriverio",level:3},{value:"Next steps",id:"next-steps",level:2}],d={toc:c},g="wrapper";function y(e){let{components:t,...l}=e;return(0,r.kt)(g,(0,a.Z)({},d,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"extending-protractor-with-serenityjs"},"Extending Protractor with Serenity/JS"),(0,r.kt)("p",null,"Serenity/JS offers excellent support for ",(0,r.kt)("strong",{parentName:"p"},"Protractor"),"!\nPlus, it accommodates both classic Protractor tests and Serenity/JS ",(0,r.kt)("a",{parentName:"p",href:"/handbook/design/screenplay-pattern/"},"Screenplay Pattern scenarios"),",\nallowing you to migrate to Screenplay gradually,\nand then simply switch to using Serenity/JS with a more modern web integration tool\nlike ",(0,r.kt)("a",{parentName:"p",href:"/handbook/getting-started/serenity-js-with-playwright-test/"},"Playwright")," or\n",(0,r.kt)("a",{parentName:"p",href:"/handbook/getting-started/serenity-js-with-webdriverio/"},"WebdriverIO"),"."),(0,r.kt)("admonition",{title:"Use Serenity/JS to migrate away from Protractor",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"As Protractor ",(0,r.kt)("a",{parentName:"p",href:"https://www.protractortest.org/#/project-status"},"reaches its end of life"),",\nyou can use Serenity/JS as an abstraction layer that allows you to gradually migrate your tests\nto follow the ",(0,r.kt)("a",{parentName:"p",href:"/handbook/design/screenplay-pattern/"},"Screenplay Pattern"),",\nand then swap out Protractor for a more modern integration tool.\nAll this while keeping your test suites working all the time!"),(0,r.kt)("p",{parentName:"admonition"},"Check out the ",(0,r.kt)("a",{parentName:"p",href:"/handbook/getting-started/serenity-js-with-protractor/#migrating-from-protractor-to-serenityjs"},"Protractor migration guide")," below \ud83d\udc47\ud83d\udc47\ud83d\udc47")),(0,r.kt)("p",null,"In this article, and in ",(0,r.kt)("strong",{parentName:"p"},"less than 5 minutes"),", you'll learn how to:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"integrate Serenity/JS")," with your Protractor test suite,"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"enable Serenity BDD reports"),","),(0,r.kt)("li",{parentName:"ul"},"start using the ",(0,r.kt)("strong",{parentName:"li"},"Screenplay Pattern"),","),(0,r.kt)("li",{parentName:"ul"},"replace Protractor with ",(0,r.kt)("strong",{parentName:"li"},"Playwright")," or ",(0,r.kt)("strong",{parentName:"li"},"WebdriverIO")," while keeping your tests working!")),(0,r.kt)("p",null,"Want to jump straight into the code? Check out:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/serenity-js/serenity-js-cucumber-protractor-template"},"Serenity/JS + Cucumber + Protractor project template on GitHub"),",\nand its ",(0,r.kt)("a",{parentName:"li",href:"https://serenity-js.github.io/serenity-js-cucumber-protractor-template/"},"Live Serenity BDD report")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/serenity-js/serenity-js-mocha-protractor-template"},"Serenity/JS + Mocha + Protractor project template on GitHub"),",\nand its ",(0,r.kt)("a",{parentName:"li",href:"https://serenity-js.github.io/serenity-js-mocha-protractor-template/"},"Live Serenity BDD report")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/serenity-js/serenity-js-jasmine-protractor-template"},"Serenity/JS + Jasmine + Protractor project template on GitHub"),",\nand its ",(0,r.kt)("a",{parentName:"li",href:"https://serenity-js.github.io/serenity-js-jasmine-protractor-template/"},"Live Serenity BDD report"))),(0,r.kt)("h2",{id:"about-serenityjs"},"About Serenity/JS"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://serenity-js.org"},"Serenity/JS")," is an open-source framework designed to make acceptance and regression testing of complex software systems faster, more collaborative, and easier to scale."),(0,r.kt)("p",null,"For Protractor test suites, Serenity/JS offers:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/handbook/reporting/"},"Enhanced Reporting")," - You can use Serenity/JS\nas a drop-in replacement of any built-in Protractor framework to produce in-depth test execution reports and living documentation of your project."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/handbook/design/screenplay-pattern/"},"Screenplay Pattern APIs")," - To make your test code portable and reusable across projects and teams,\nSerenity/JS gives you an optional ",(0,r.kt)("a",{parentName:"li",href:"/api/protractor"},"abstraction layer")," on top of native Protractor APIs."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/core/"},"Integration Libraries")," - For test suites that follow the Screenplay Pattern,\nSerenity/JS also provides optional integration libraries to help you write ",(0,r.kt)("a",{parentName:"li",href:"/api/rest/"},"API tests"),",\n",(0,r.kt)("a",{parentName:"li",href:"/api/local-server/"},"manage local servers"),", ",(0,r.kt)("a",{parentName:"li",href:"/api/assertions/"},"perform assertions"),", and more!")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Serenity BDD Report Example",src:n(68028).Z,width:"1600",height:"738"})),(0,r.kt)("h2",{id:"installing-serenityjs"},"Installing Serenity/JS"),(0,r.kt)("p",null,"To add Serenity/JS to an ",(0,r.kt)("a",{parentName:"p",href:"https://www.protractortest.org/#/"},"existing Protractor project"),", install the following Serenity/JS modules from NPM:"),(0,r.kt)(i.Z,{groupId:"npm2yarn",mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"npm",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"npm install --save-dev @serenity-js/core @serenity-js/web @serenity-js/protractor @serenity-js/assertions @serenity-js/console-reporter @serenity-js/serenity-bdd\n"))),(0,r.kt)(o.Z,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"yarn add --dev @serenity-js/core @serenity-js/web @serenity-js/protractor @serenity-js/assertions @serenity-js/console-reporter @serenity-js/serenity-bdd\n")))),(0,r.kt)("p",null,"Learn more about Serenity/JS modules:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/core/"},(0,r.kt)("inlineCode",{parentName:"a"},"@serenity-js/core"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/web/"},(0,r.kt)("inlineCode",{parentName:"a"},"@serenity-js/web"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/protractor/"},(0,r.kt)("inlineCode",{parentName:"a"},"@serenity-js/protractor"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/assertions/"},(0,r.kt)("inlineCode",{parentName:"a"},"@serenity-js/assertions"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/console-reporter/"},(0,r.kt)("inlineCode",{parentName:"a"},"@serenity-js/console-reporter"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/serenity-bdd/"},(0,r.kt)("inlineCode",{parentName:"a"},"@serenity-js/serenity-bdd")))),(0,r.kt)("h2",{id:"configuring-serenityjs-and-protractor"},"Configuring Serenity/JS and Protractor"),(0,r.kt)("p",null,"To enable integration with Serenity/JS, configure Protractor as follows:"),(0,r.kt)(i.Z,{groupId:"code-examples",mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"cucumber",label:"Cucumber",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="protractor.conf.js" tab={"label":"Cucumber"}',title:'"protractor.conf.js"',tab:'{"label":"Cucumber"}'},"exports.config = {\n    // Disable Selenium promise manager\n    SELENIUM_PROMISE_MANAGER: false,\n\n    framework:      'custom',\n    frameworkPath:  require.resolve('@serenity-js/protractor/adapter'),\n\n    specs: [ 'features/**/*.feature' ],\n\n    serenity: {\n        runner: 'cucumber',\n        crew: [\n            // Optional, print test execution results to standard output\n            '@serenity-js/console-reporter',\n\n            // Optional, produce Serenity BDD reports\n            // and living documentation (HTML)\n            '@serenity-js/serenity-bdd',\n            [ '@serenity-js/core:ArtifactArchiver', {\n                outputDirectory: 'target/site/serenity'\n            } ],\n\n            // Optional, automatically capture screenshots\n            // upon interaction failure\n            [ '@serenity-js/web:Photographer', {\n                strategy: 'TakePhotosOfFailures'\n            } ],\n        ]\n    },\n\n    cucumberOpts: {\n        require: [\n            'features/step_definitions/**/*.steps.ts',      // If you're using TypeScript\n            'features/support/*.ts',\n            // 'features/step_definitions/**/*.steps.js',   // If you're using JavaScript\n            // 'features/support/*.js'\n        ],\n        requireModule:   [\n            // Optional, if you're using TypeScript\n            'ts-node/register'\n        ],\n        tags:    ['not @wip'],\n        strict:  false,\n    }\n};\n"))),(0,r.kt)(o.Z,{value:"mocha",label:"Mocha",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="protractor.conf.js" tab={"label":"Mocha"}',title:'"protractor.conf.js"',tab:'{"label":"Mocha"}'},"exports.config = {\n    // Disable Selenium promise manager\n    SELENIUM_PROMISE_MANAGER: false,\n\n    framework:      'custom',\n    frameworkPath:  require.resolve('@serenity-js/protractor/adapter'),\n\n    specs: [\n        './spec/*.spec.ts',     // If you're using TypeScript\n        // './spec/*.spec.js',  // If you're using JavaScript\n    ],\n\n    serenity: {\n        runner: 'mocha',\n        crew: [\n            // Optional, print test execution results to standard output\n            '@serenity-js/console-reporter',\n\n            // Optional, produce Serenity BDD reports\n            // and living documentation (HTML)\n            '@serenity-js/serenity-bdd',\n            [ '@serenity-js/core:ArtifactArchiver', {\n                outputDirectory: 'target/site/serenity'\n            } ],\n\n            // Optional, automatically capture screenshots\n            // upon interaction failure\n            [ '@serenity-js/web:Photographer', {\n                strategy: 'TakePhotosOfFailures'\n            } ],\n        ]\n    },\n\n    mochaOpts: {\n        require: [\n            // Optional, if you're using TypeScript\n            'ts-node/register',\n        ],\n        timeout: 10000,\n        // retries: 2       // auto-retry failed tests up to n times\n    },\n};\n"))),(0,r.kt)(o.Z,{value:"jasmine",label:"Jasmine",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="protractor.conf.js" tab={"label":"Jasmine"}',title:'"protractor.conf.js"',tab:'{"label":"Jasmine"}'},"exports.config = {\n    // Disable Selenium promise manager\n    SELENIUM_PROMISE_MANAGER: false,\n\n    framework:      'custom',\n    frameworkPath:  require.resolve('@serenity-js/protractor/adapter'),\n\n    specs: [\n        './spec/*.spec.ts',     // If you're using TypeScript\n        // './spec/*.spec.js',  // If you're using JavaScript\n    ],\n\n    serenity: {\n        runner: 'jasmine',\n        crew: [\n            // Optional, print test execution results to standard output\n            '@serenity-js/console-reporter',\n\n            // Optional, produce Serenity BDD reports\n            // and living documentation (HTML)\n            '@serenity-js/serenity-bdd',\n            [ '@serenity-js/core:ArtifactArchiver', {\n                outputDirectory: 'target/site/serenity'\n            } ],\n\n            // Optional, automatically capture screenshots\n            // upon interaction failure\n            [ '@serenity-js/web:Photographer', {\n                strategy: 'TakePhotosOfFailures'\n            } ],\n        ]\n    },\n\n    jasmineNodeOpts: {\n        requires: [\n            // Optional, if you're using TypeScript\n            'ts-node/register'\n        ],\n    },\n};\n")))),(0,r.kt)("p",null,"Learn more about:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/cucumber-adapter/interface/CucumberConfig/"},"Serenity/JS Cucumber configuration options"),"\nand complete ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/serenity-js/serenity-js-cucumber-protractor-template/blob/main/protractor.conf.js"},(0,r.kt)("inlineCode",{parentName:"a"},"protractor.conf.js"))," for Cucumber projects"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/jasmine-adapter/interface/JasmineConfig/"},"Serenity/JS Jasmine configuration options"),"\nand complete ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/serenity-js/serenity-js-jasmine-protractor-template/blob/main/protractor.conf.js"},(0,r.kt)("inlineCode",{parentName:"a"},"protractor.conf.js"))," for Jasmine projects"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/mocha-adapter/interface/MochaConfig/"},"Serenity/JS Mocha configuration options"),"\nand complete ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/serenity-js/serenity-js-mocha-protractor-template/blob/main/protractor.conf.js"},(0,r.kt)("inlineCode",{parentName:"a"},"protractor.conf.js"))," for Mocha projects"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/angular/protractor/blob/master/lib/config.ts"},"Protractor configuration file"))),(0,r.kt)("h2",{id:"producing-serenity-bdd-reports-and-living-documentation"},"Producing Serenity BDD reports and living documentation"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://serenity-bdd.github.io/docs/reporting/the_serenity_reports"},"Serenity BDD reports and living documentation")," are generated by ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/serenity-bdd/serenity-core/tree/main/serenity-cli"},"Serenity BDD CLI"),",\na Java program downloaded and managed by the ",(0,r.kt)("a",{parentName:"p",href:"/api/serenity-bdd/"},(0,r.kt)("inlineCode",{parentName:"a"},"@serenity-js/serenity-bdd"))," module."),(0,r.kt)("p",null,"To produce Serenity BDD reports, your test suite must:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"download the Serenity BDD CLI, by calling ",(0,r.kt)("inlineCode",{parentName:"li"},"serenity-bdd update")," which caches the CLI ",(0,r.kt)("inlineCode",{parentName:"li"},"jar")," locally"),(0,r.kt)("li",{parentName:"ul"},"produce intermediate Serenity BDD ",(0,r.kt)("inlineCode",{parentName:"li"},".json")," reports, by registering ",(0,r.kt)("a",{parentName:"li",href:"/api/serenity-bdd/class/SerenityBDDReporter/"},(0,r.kt)("inlineCode",{parentName:"a"},"SerenityBDDReporter"))," as per the ",(0,r.kt)("a",{parentName:"li",href:"#configuring-serenityjs"},"configuration instructions")),(0,r.kt)("li",{parentName:"ul"},"invoke the Serenity BDD CLI when you want to produce the report, by calling ",(0,r.kt)("inlineCode",{parentName:"li"},"serenity-bdd run"))),(0,r.kt)("p",null,"The pattern used by all the ",(0,r.kt)("a",{parentName:"p",href:"/handbook/getting-started#serenityjs-project-templates"},"Serenity/JS Project Templates")," relies\non using:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"a ",(0,r.kt)("a",{parentName:"li",href:"https://docs.npmjs.com/cli/v9/using-npm/scripts#life-cycle-operation-order"},(0,r.kt)("inlineCode",{parentName:"a"},"postinstall"))," NPM script to download the Serenity BDD CLI"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/npm-failsafe"},(0,r.kt)("inlineCode",{parentName:"a"},"npm-failsafe"))," to run the reporting process even if the test suite itself has failed (which is precisely when you need test reports the most...)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/rimraf"},(0,r.kt)("inlineCode",{parentName:"a"},"rimraf"))," as a convenience method to remove any test reports left over from the previous run")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="package.json"',title:'"package.json"'},'{\n  "scripts": {\n    "postinstall": "serenity-bdd update",\n    "clean": "rimraf target",\n    "test": "failsafe clean test:execute test:report",\n    "test:execute": "protractor ./protractor.conf.js",\n    "test:report": "serenity-bdd run"\n  }\n}\n')),(0,r.kt)("p",null,"To learn more about the ",(0,r.kt)("inlineCode",{parentName:"p"},"SerenityBDDReporter"),", please consult:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"installation instructions in ",(0,r.kt)("a",{parentName:"li",href:"/api/serenity-bdd/"},(0,r.kt)("inlineCode",{parentName:"a"},"@serenity-js/serenity-bdd")," documentation"),","),(0,r.kt)("li",{parentName:"ul"},"configuration examples in ",(0,r.kt)("a",{parentName:"li",href:"/api/serenity-bdd/class/SerenityBDDReporter/"},(0,r.kt)("inlineCode",{parentName:"a"},"SerenityBDDReporter")," API docs"),","),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/serenity-js/serenity-js/tree/main/examples"},"Serenity/JS examples on GitHub"),".")),(0,r.kt)("h2",{id:"using-serenityjs-screenplay-pattern-apis"},"Using Serenity/JS Screenplay Pattern APIs"),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"/handbook/design/screenplay-pattern/"},"Screenplay Pattern")," is an innovative, user-centred approach to writing high-quality automated acceptance tests. It steers you towards an effective use of layers of abstraction,\nhelps your test scenarios capture the business vernacular of your domain, and encourages good testing and software engineering habits on your team."),(0,r.kt)("p",null,"By default, when you register ",(0,r.kt)("inlineCode",{parentName:"p"},"@serenity-js/protractor")," as your Protractor ",(0,r.kt)("inlineCode",{parentName:"p"},"framework"),",\nSerenity/JS configures a default ",(0,r.kt)("a",{parentName:"p",href:"/api/core/class/Cast/"},"cast")," of ",(0,r.kt)("a",{parentName:"p",href:"/api/core/class/Actor/"},"actors"),",\nwhere every actor can:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/protractor/class/BrowseTheWebWithProtractor/"},(0,r.kt)("inlineCode",{parentName:"a"},"BrowseTheWebWithProtractor"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/core/class/TakeNotes/"},(0,r.kt)("inlineCode",{parentName:"a"},"TakeNotes.usingAnEmptyNotepad()")))),(0,r.kt)("p",null,"This should be enough to help you get started with introducing test scenarios that follow the Screenplay Pattern even to an existing test suite, for example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="specs/example.spec.ts"',title:'"specs/example.spec.ts"'},"import 'jasmine'\nimport { actorCalled } from '@serenity-js/core'\nimport { Navigate, Page } from '@serenity-js/web'\nimport { Ensure, equals } from '@serenity-js/assertions'\n\ndescribe('My awesome website', () => {\n    it('can have test scenarios that follow the Screenplay Pattern', async () => {\n        await actorCalled('Alice').attemptsTo(\n            Navigate.to(`https://www.protractortest.org/`),\n            Ensure.that(\n                Page.current().title(),\n                equals(`Protractor - end-to-end testing for AngularJS`)\n            ),\n        )\n    })\n\n    it('can have non-Screenplay scenarios too', async () => {\n        await browser.get(`https://www.protractortest.org`)\n        await expect(browser.getTitle())\n            .toBe('Protractor - end-to-end testing for AngularJS')\n    })\n})\n")),(0,r.kt)("p",null,"To learn more about the Screenplay Pattern, check out:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/handbook/design/screenplay-pattern/"},"The Screenplay Pattern")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/handbook/web-testing/"},"Web testing with Serenity/JS")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.manning.com/books/bdd-in-action-second-edition"},'"BDD in Action, Second Edition"'))),(0,r.kt)("h2",{id:"migrating-from-protractor-to-serenityjs"},"Migrating from Protractor to Serenity/JS"),(0,r.kt)("p",null,"Serenity/JS accommodates both classic Protractor tests and Serenity/JS ",(0,r.kt)("a",{parentName:"p",href:"/handbook/design/screenplay-pattern/"},"Screenplay Pattern scenarios"),",\nallowing you to migrate to Screenplay gradually while ",(0,r.kt)("strong",{parentName:"p"},"keeping your existing test suites working")," and providing value to your organisation\nduring the migration. With Serenity/JS, there's ",(0,r.kt)("strong",{parentName:"p"},"no need for a big-bang rewrite"),"!"),(0,r.kt)("p",null,"If you have an existing Protractor test suite and want to upgrade to a more modern web integration tool like Playwright or WebdriverIO, you'll need to:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Upgrade your Node.js to the latest ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/nodejs/Release"},"Long-Term Support (LTS)")," version, such as ",(0,r.kt)("strong",null,(0,r.kt)(s.Z,{mdxType:"CurrentNodeVersion"}))),(0,r.kt)("li",{parentName:"ul"},"Install ",(0,r.kt)("a",{parentName:"li",href:"/handbook/getting-started/serenity-js-with-protractor/#installing-serenityjs"},"Serenity/JS dependencies")," for Protractor,\nas well as ",(0,r.kt)("a",{parentName:"li",href:"/handbook/getting-started/installation/#installing-java-runtime-environment-jre"},"Java Runtime Environment")," if you'd like to use\n",(0,r.kt)("a",{parentName:"li",href:"/handbook/reporting/serenity-bdd-reporter/"},"Serenity BDD")," reports"),(0,r.kt)("li",{parentName:"ul"},"Migrate your existing Protractor tests to use ",(0,r.kt)("a",{parentName:"li",href:"/api/web/"},"Serenity/JS Screenplay Pattern web APIs"),", which you can do gradually while keeping the remaining scenarios working"),(0,r.kt)("li",{parentName:"ul"},"When all your test scenarios are using ",(0,r.kt)("a",{parentName:"li",href:"/api/web/"},"Serenity/JS Screenplay Pattern web APIs")," and there are no Protractor API calls left,\nintroduce ",(0,r.kt)("a",{parentName:"li",href:"/handbook/getting-started/serenity-js-with-playwright-test/"},"Playwright")," or ",(0,r.kt)("a",{parentName:"li",href:"/handbook/getting-started/serenity-js-with-webdriverio/"},"WebdriverIO")," to ensure\nyour migrated scenarios work with the new integration library"),(0,r.kt)("li",{parentName:"ul"},"Remove Protractor dependencies and enjoy your modernised test suite!")),(0,r.kt)("admonition",{title:"Migrate or rewrite?",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Migrating existing Protractor test scenarios to follow the Serenity/JS Screenplay Pattern can be a big undertaking, depending on the size, complexity, and stability of your current test suite.\nNot to mention that every team has a slightly different Protractor setup and uses the tool in different ways, which makes automating the migration process\nchallenging."),(0,r.kt)("p",{parentName:"admonition"},"When migrating to Serenity/JS, start with the easy scenarios so that you can focus the first steps of your migration on making sure your\n",(0,r.kt)("a",{parentName:"p",href:"/handbook/integration/"},"continuous integration")," and ",(0,r.kt)("a",{parentName:"p",href:"/handbook/reporting/"},"reporting infrastructure")," work reliably.\nThis way you'll build a stable foundation upon which you can migrate the more complex tests."),(0,r.kt)("p",{parentName:"admonition"},"Remember, if your current Protractor test suite is reasonably stable, still works and provides value, there's no need for a risky big bang rewrite\nas you can migrate it one scenario at a time while keeping the existing tests working.\nHowever, if your current Protractor test suite ",(0,r.kt)("em",{parentName:"p"},"doesn't work")," and you'd rather delete it than migrate it, you might prefer to start from scratch and use Serenity/JS with ",(0,r.kt)("a",{parentName:"p",href:"/handbook/getting-started/serenity-js-with-playwright-test/"},"Playwright")," or ",(0,r.kt)("a",{parentName:"p",href:"/handbook/getting-started/serenity-js-with-webdriverio/"},"WebdriverIO")," straight away.\nThe choice is yours and Serenity/JS will support you either way.")),(0,r.kt)("h3",{id:"locating-elements"},"Locating elements"),(0,r.kt)("p",null,"To identify web elements with Serenity/JS you use the ",(0,r.kt)("a",{parentName:"p",href:"/handbook/web-testing/page-element-query-language/"},"Page Element Query Language"),"."),(0,r.kt)("p",null,"In short:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/web/class/PageElement/"},(0,r.kt)("inlineCode",{parentName:"a"},"PageElement"))," represents a single HTML element,"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/web/class/PageElements/"},(0,r.kt)("inlineCode",{parentName:"a"},"PageElements"))," represent a collection of HTML elements and lets you filter it based on your criteria."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/web/class/PageElements/"},(0,r.kt)("inlineCode",{parentName:"a"},"By"))," represents portable locators used to identify the elements,")),(0,r.kt)("p",null,"For example, to identify an element ",(0,r.kt)("inlineCode",{parentName:"p"},'<h1 id="title">My article</h1>')," in plain Protractor you'd say:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"element(by.css('h1.title'))\n")),(0,r.kt)("p",null,"Serenity/JS has a similar construct and allows you to specify a description to be used when reporting interactions\nwith the element:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import { By, PageElement } from '@serenity-js/web'\n\nPageElement.located(By.css('h1.title'))\n")),(0,r.kt)("p",null,"However, Serenity/JS also allows you to specify a human-readable description to be used when reporting interactions\nwith the element:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import { By, PageElement } from '@serenity-js/web'\n\nPageElement.located(By.css('h1.title'))\n    .describedAs('article title')\n")),(0,r.kt)("p",null,"The below table shows how you can translate common Protractor ",(0,r.kt)("a",{parentName:"p",href:"https://www.protractortest.org/#/locators#locators"},"element finder expressions"),"\nto Serenity/JS page element expressions:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Protractor"),(0,r.kt)("th",{parentName:"tr",align:null},"Serenity/JS"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"element(by.css('.selector'))")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"PageElement.located(By.css('...'))"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"element(by.id('...'))")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"PageElement.located(By.id('...'))"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"element(by.xpath('...'))")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"PageElement.located(By.xpath('...'))"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"element(by.model('...'))")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"PageElement.located(By.css('[ng-model=\"...\"]'))"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"element(by.repeater('...'))")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"PageElement.located(By.css('[ng-repeat=\"...\"]'))"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"element(by.cssContainingText('.selector', 'text'))")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"PageElement.located(By.cssContainingText('.selector', 'text'))"),(0,r.kt)("br",null),"or for greater flexibility:",(0,r.kt)("br",null),(0,r.kt)("inlineCode",{parentName:"td"},"PageElements.located(By.css('.selector')).where(Text, includes('text')).first()"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"element(by.buttonText('Submit'))")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"PageElements.located(By.css('button')).where(Text, equals('Submit')).first()"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"element.all")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"PageElements.located(By.css('...'))"))))),(0,r.kt)("p",null,"Note how with Serenity/JS you can easily express complex queries using intuitive syntax.\nFor example, you can locate the ",(0,r.kt)("a",{parentName:"p",href:"/api/web/class/PageElements/#last"},"last")," ",(0,r.kt)("inlineCode",{parentName:"p"},"<button />")," which text meets some ",(0,r.kt)("a",{parentName:"p",href:"/api/core/class/Expectation/"},"expectation"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import { By, PageElements, Text } from '@serenity-js/web'\nimport { equals } from '@serenity-js/assertions'\n\nPageElements.located(By.css('button'))\n    .where(Text, equals('Submit'))\n    .last()\n")),(0,r.kt)("p",null,"You can create aliases for expressions you use frequently:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import { By, PageElements, Text } from '@serenity-js/web'\nimport { equals } from '@serenity-js/assertions'\n\nconst approveButton = () =>\n    PageElements.located(By.css('button'))\n        .where(Text, equals('Approve'))\n        .first()\n")),(0,r.kt)("p",null,"And you can also ",(0,r.kt)("a",{parentName:"p",href:"/handbook/web-testing/page-element-query-language/#composing-page-elements-using-meta-questions"},"compose page elements"),", making them reusable:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import { actorCalled, Expectation } from '@serenity-js/core'\nimport { equals } from '@serenity-js/assertions'\nimport { By, Click, PageElement, PageElements } from '@serenity-js/web'\n\nconst clientNameField = () =>\n    PageElement.located(By.css('[data-test-id=\"client-name\"]'))\n        .describedAs('client name field')\n\nconst invoiceRecordForClientWhereName = (expectation: Expectation<string>) =>\n    PageElements.located(By.css('li.invoice'))\n        .where(Text.of(clientNameField()), expectation)\n        .first()\n\nawait actorCalled('Alice').attemptsTo(\n    Click.on(\n        approveButton().of(invoiceRecordForClientWhereName(equals('Acme')))\n    )\n)\n")),(0,r.kt)("p",null,"Learn more:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/handbook/web-testing/page-element-query-language/"},"Page Element Query Language"))),(0,r.kt)("h3",{id:"retrieving-information"},"Retrieving information"),(0,r.kt)("p",null,"To retrieve information about the current web page, use ",(0,r.kt)("a",{parentName:"p",href:"/api/web/class/Page/"},(0,r.kt)("inlineCode",{parentName:"a"},"Page.current()")),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Protractor"),(0,r.kt)("th",{parentName:"tr",align:null},"Serenity/JS"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"browser.getCurrentUrl()")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Page.current().url().href"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"browser.getTitle()")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Page.current().title()"))))),(0,r.kt)("p",null,"For example, to navigate to a page and then assert on its ",(0,r.kt)("a",{parentName:"p",href:"/api/web/class/Page/#title"},"title")," and ",(0,r.kt)("a",{parentName:"p",href:"/api/web/class/Page/#url"},"URL")," you can say:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import { actorCalled } from '@serenity-js/core'\nimport { Ensure, endsWith, equals } from '@serenity-js/assertions'\nimport { Navigate, Page } from '@serenity-js/web'\n\nawait actorCalled('Amanda').attemptsTo(\n    Navigate.to('https://serenity-js.org'),\n    Ensure.that(\n        Page.current().title(),\n        endsWith('Serenity/JS')\n    ),\n    Ensure.that(\n        Page.current().url().href,\n        equals('https://serenity-js.org')\n    ),\n)\n")),(0,r.kt)("p",null,"To retrieve information about a page element, use ",(0,r.kt)("a",{parentName:"p",href:"/api/web/"},"Serenity/JS web questions"),":"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Protractor"),(0,r.kt)("th",{parentName:"tr",align:null},"Serenity/JS"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://www.protractortest.org/#/api?view=webdriver.WebElement.prototype.getAttribute"},(0,r.kt)("inlineCode",{parentName:"a"},"element(by.id('...')).getAttribute('class')"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/api/web/class/CssClasses/"},(0,r.kt)("inlineCode",{parentName:"a"},"CssClasses.of(pageElement)"))),(0,r.kt)("td",{parentName:"tr",align:null},"Serenity/JS returns an array of CSS classes to make assertions easier, instead of a single string like plain Protractor")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://www.protractortest.org/#/api?view=webdriver.WebElement.prototype.getAttribute"},(0,r.kt)("inlineCode",{parentName:"a"},"element(by.id('...')).getAttribute('value')"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/api/web/class/Value/"},(0,r.kt)("inlineCode",{parentName:"a"},"Value.of(pageElement)"))),(0,r.kt)("td",{parentName:"tr",align:null},"Serenity/JS has a dedicated question for retrieving the ",(0,r.kt)("inlineCode",{parentName:"td"},"value")," attribute of ",(0,r.kt)("inlineCode",{parentName:"td"},"<input />")," elements")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://www.protractortest.org/#/api?view=webdriver.WebElement.prototype.getText"},(0,r.kt)("inlineCode",{parentName:"a"},"element(by.id('...')).getText()"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/api/web/class/Text/"},(0,r.kt)("inlineCode",{parentName:"a"},"Text.of(pageElement)"))," and ",(0,r.kt)("a",{parentName:"td",href:"/api/web/class/Text/"},(0,r.kt)("inlineCode",{parentName:"a"},"Text.ofAll(pageElements)"))),(0,r.kt)("td",{parentName:"tr",align:null},"Serenity/JS makes it easier to retrieve text content of all elements in a collection")))),(0,r.kt)("p",null,"For example, to navigate to a page and assert on the CSS classes of an element, you could say:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import { actorCalled } from '@serenity-js/core'\nimport { By, CssClasses, Navigate, PageElement } from '@serenity-js/web'\nimport { Ensure, include } from '@serenity-js/assertions'\n\nconst startAutomatingButton = () =>\n    PageElement.located(By.cssContainingText('.button', 'Start automating'))\n        .describedAs('\"Start automating\" button')\n\nawait actorCalled('Amanda').attemptsTo(\n    Navigate.to('https://serenity-js.org'),\n    Ensure.that(\n        CssClasses.of(startAutomatingButton()),\n        include('button--primary')\n    ),\n)\n")),(0,r.kt)("h3",{id:"performing-interactions"},"Performing interactions"),(0,r.kt)("p",null,"To interact with a web page or a page element, instruct an ",(0,r.kt)("a",{parentName:"p",href:"/handbook/design/screenplay-pattern/#actors"},"actor")," to perform\na desired ",(0,r.kt)("a",{parentName:"p",href:"/handbook/design/screenplay-pattern/#interactions"},"interaction"),".\nNote that Serenity/JS also consistently models all ",(0,r.kt)("a",{parentName:"p",href:"/handbook/design/assertions/"},"assertion"),", ",(0,r.kt)("a",{parentName:"p",href:"/handbook/design/waiting-and-synchronisation/"},"synchronisation"),"\n",(0,r.kt)("a",{parentName:"p",href:"/handbook/design/logging/"},"logging"),", ",(0,r.kt)("a",{parentName:"p",href:"//handbook/design/debugging/"},"debugging"),", and ",(0,r.kt)("a",{parentName:"p",href:"/handbook/design/control-flow/"},"control flow")," statements as interactions too."),(0,r.kt)("p",null,"For example, to navigate to a page, click on a button and perform an assertion, you could say:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import { actorCalled } from '@serenity-js/core'\nimport { By, Click, Navigate, Page, PageElement } from '@serenity-js/web'\nimport { Ensure, equals } from '@serenity-js/assertions'\n\nconst startAutomatingButton = () =>\n    PageElement.located(By.cssContainingText('.button', 'Start automating'))\n        .describedAs('\"Start automating\" button')\n\nawait actorCalled('Amanda').attemptsTo(\n    Navigate.to('https://serenity-js.org'),\n    Click.on(startAutomatingButton()),\n    Ensure.that(\n        Page.current().url().path,\n        equals('/handbook/web-testing/your-first-web-scenario/')\n    )\n)\n")),(0,r.kt)("p",null,"Note that one of Serenity/JS super-powers is the ability to compose\ninteractions into ",(0,r.kt)("a",{parentName:"p",href:"/handbook/design/screenplay-pattern/#tasks"},"tasks"),", like ",(0,r.kt)("inlineCode",{parentName:"p"},"startTutorial()")," below,\nwhich makes your code easy to share and reuse:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import { actorCalled, Task } from '@serenity-js/core'\nimport { Click, Navigate, Page } from '@serenity-js/web'\nimport { Ensure, equals } from '@serenity-js/assertions'\n\n// ...\n\nconst startTutorial = () =>\n    Task.where(`#actor starts the Serenity/JS tutorial`,\n        Click.on(startAutomatingButton()),\n        Ensure.that(\n            Page.current().url().path,\n            equals('/handbook/web-testing/your-first-web-scenario/')\n        )\n    )\n\nawait actorCalled('Amanda').attemptsTo(\n    Navigate.to('https://serenity-js.org'),\n    startTutorial(),\n)\n")),(0,r.kt)("p",null,"Below table shows how you can replace Protractor-specific API calls with ",(0,r.kt)("a",{parentName:"p",href:"/api/web/#Index"},"Serenity/JS web interactions"),":"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Protractor"),(0,r.kt)("th",{parentName:"tr",align:null},"Serenity/JS"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"element(locator).click()")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/api/web/class/Click/"},"Click.on(pageElement)"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"element(locator).clear()")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/api/web/class/Clear/"},"Clear.theValueOf(pageElement)"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"element(locator).sendKeys(text)")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/api/web/class/Enter/"},"Enter.theValue(text).into(pageElement)"))))),(0,r.kt)("h3",{id:"waiting-and-synchronisation"},"Waiting and synchronisation"),(0,r.kt)("p",null,"To express a ",(0,r.kt)("a",{parentName:"p",href:"/handbook/design/waiting-and-synchronisation/"},"synchronisation statement"),",\nuse ",(0,r.kt)("a",{parentName:"p",href:"/api/core/class/Wait/"},(0,r.kt)("inlineCode",{parentName:"a"},"Wait.until")),"\nor ",(0,r.kt)("a",{parentName:"p",href:"/api/assertions/class/Ensure/#eventually"},(0,r.kt)("inlineCode",{parentName:"a"},"Ensure.eventually")),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Protractor"),(0,r.kt)("th",{parentName:"tr",align:null},"Serenity/JS"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"element(locator).isPresent()")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/api/assertions/function/isPresent/"},(0,r.kt)("inlineCode",{parentName:"a"},"Wait.until(pageElement, isPresent())")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"element(locator).isEnabled()")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/api/web/function/isEnabled/"},(0,r.kt)("inlineCode",{parentName:"a"},"Wait.until(pageElement, isEnabled())")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"element(locator).isSelected()")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/api/web/function/isSelected/"},(0,r.kt)("inlineCode",{parentName:"a"},"Wait.until(pageElement, isSelected())")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"element(locator).isDisplayed()")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/api/web/function/isVisible/"},(0,r.kt)("inlineCode",{parentName:"a"},"Wait.until(pageElement, isVisible())")))))),(0,r.kt)("h3",{id:"replacing-protractor-with-webdriverio"},"Replacing Protractor with WebdriverIO"),(0,r.kt)("p",null,"In many ways, ",(0,r.kt)("a",{parentName:"p",href:"https://webdriver.io/"},"WebdriverIO")," is very similar to Protractor:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"it integrates with the same test runners, such as ",(0,r.kt)("a",{parentName:"li",href:"https://webdriver.io/docs/frameworks/"},"Cucumber, Mocha, and Jasmine")),(0,r.kt)("li",{parentName:"ul"},"it works well with ",(0,r.kt)("a",{parentName:"li",href:"https://webdriver.io/docs/frameworks/#using-serenityjs"},"Serenity/JS")),(0,r.kt)("li",{parentName:"ul"},"it works with local browsers and remote Selenium Grids"),(0,r.kt)("li",{parentName:"ul"},"it supports multi-tab and multi-window test scenarios"),(0,r.kt)("li",{parentName:"ul"},"it supports mobile testing"),(0,r.kt)("li",{parentName:"ul"},"its ",(0,r.kt)("a",{parentName:"li",href:"https://webdriver.io/docs/configuration"},"configuration file")," follows a similar structure")),(0,r.kt)("p",null,"Once you've migrated your test scenarios to follow the Screenplay Pattern and there are no Protractor API calls left\nin your code, follow WebdriverIO Protractor migration guide to:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://webdriver.io/docs/protractor-migration#first-the-config-file"},"migrate the configuration file")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://webdriver.io/docs/protractor-migration#install-webdriverio-dependencies"},"install the WebdriverIO dependencies"))),(0,r.kt)("p",null,"Next, install Serenity/JS WebdriverIO module:"),(0,r.kt)(i.Z,{groupId:"npm2yarn",mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"npm",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"npm install @serenity-js/webdriverio --save-dev\n"))),(0,r.kt)(o.Z,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"yarn add @serenity-js/webdriverio --dev\n")))),(0,r.kt)("p",null,"Update the ",(0,r.kt)("inlineCode",{parentName:"p"},"script")," section in your ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json")," to use ",(0,r.kt)("inlineCode",{parentName:"p"},"wdio")," instead of ",(0,r.kt)("inlineCode",{parentName:"p"},"protractor"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-diff",metastring:'title="package.json"',title:'"package.json"'},'{\n  "scripts": {\n    "postinstall": "serenity-bdd update",\n    "clean": "rimraf target",\n    "test": "failsafe clean test:execute test:report",\n-   "test:execute": "protractor ./protractor.conf.js",\n+   "test:execute": "wdio ./wdio.conf.ts",\n    "test:report": "serenity-bdd run"\n  }\n}\n')),(0,r.kt)("p",null,"Once your test suite works, remove Protractor and its related Serenity/JS module:"),(0,r.kt)(i.Z,{groupId:"npm2yarn",mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"npm",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"npm uninstall protractor @serenity-js/protractor --save\n"))),(0,r.kt)(o.Z,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"yarn remove protractor @serenity-js/protractor\n")))),(0,r.kt)("p",null,"Learn more:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/handbook/test-runners/webdriverio/"},"Serenity/JS WebdriverIO Test Runner Adapter"))),(0,r.kt)("h2",{id:"next-steps"},"Next steps"),(0,r.kt)("p",null,"Well done, your Protractor test suite is now integrated with Serenity/JS! \ud83c\udf89\ud83c\udf89\ud83c\udf89"),(0,r.kt)("p",null,"To take things further, check out:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/handbook/web-testing/"},"Web testing with Serenity/JS")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/serenity-js/serenity-js/tree/main/examples/"},"Serenity/JS examples on GitHub")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/serenity-js?q=protractor-template&type=all&language=&sort="},"Serenity/JS Protractor project templates")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/web/"},"Serenity/JS API docs"))),(0,r.kt)("p",null,"Remember, new features, tutorials, and demos are coming soon!\nFollow ",(0,r.kt)("a",{parentName:"p",href:"https://www.linkedin.com/company/serenity-js"},"Serenity/JS on LinkedIn"),",\nsubscribe to ",(0,r.kt)("a",{parentName:"p",href:"https://www.youtube.com/@serenity-js"},"Serenity/JS channel on YouTube")," and join the ",(0,r.kt)("a",{parentName:"p",href:"https://matrix.to/#/#serenity-js:gitter.im"},"Serenity/JS Community Chat")," to stay up to date!\nPlease also make sure to star \u2b50\ufe0f ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/serenity-js/serenity-js"},"Serenity/JS on GitHub")," to help others discover the framework!"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.linkedin.com/company/serenity-js"},(0,r.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/Follow-Serenity%2FJS%20-0077B5?logo=linkedin",alt:"Follow Serenity/JS on LinkedIn"})),"\n",(0,r.kt)("a",{parentName:"p",href:"https://www.youtube.com/@serenity-js"},(0,r.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/Watch-@serenity--js-E62117?logo=youtube",alt:"Watch Serenity/JS on YouTube"})),"\n",(0,r.kt)("a",{parentName:"p",href:"https://matrix.to/#/#serenity-js:gitter.im"},(0,r.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/Chat-Serenity%2FJS%20Community-FBD30B?logo=matrix",alt:"Join Serenity/JS Community Chat"})),"\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/serenity-js/serenity-js"},(0,r.kt)("img",{parentName:"a",src:"https://img.shields.io/github/stars/serenity-js/serenity-js?label=Serenity%2FJS&logo=github&style=badge",alt:"GitHub stars"}))),(0,r.kt)("p",null,"If you have found any errors in Serenity/JS documentation, feel free to submit a fix using the ",(0,r.kt)("inlineCode",{parentName:"p"},"Edit this page")," button below,\nand if you'd like to see more examples of using Serenity/JS with Protractor or have questions about the migration - let us\nknow in the comments \ud83d\udc47\ud83d\udc47\ud83d\udc47"))}y.isMDXComponent=!0},68028:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/serenity-bdd-reporter-c90e03e1dcfdd70c21fa0acca0cd40b5.png"}}]);