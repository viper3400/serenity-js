(self.webpackChunk_documentation_serenity_js_org=self.webpackChunk_documentation_serenity_js_org||[]).push([[3199],{75917:(e,t,a)=>{e.exports={src:{srcSet:a.p+"assets/ideal-img/serenity-js-screenplay-pattern.5eead28.1200.png 1200w",images:[{path:a.p+"assets/ideal-img/serenity-js-screenplay-pattern.5eead28.1200.png",width:1200,height:578}],src:a.p+"assets/ideal-img/serenity-js-screenplay-pattern.5eead28.1200.png",toString:function(){return a.p+"assets/ideal-img/serenity-js-screenplay-pattern.5eead28.1200.png"},placeholder:void 0,width:1200,height:578},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAaUlEQVQImTWNAQ4DIAgD/f9njSKIGOlSthlMG3ratvdOVcU5J+ecVPBkJjimA+6arbZAwb13UL9Q/iKUaRGRZgYzy3svFWst0DNz92prNIQIRESBY4yC6UWk2lgd/JqvRaSq33t1/7WMP1QXw6eFHIPFAAAAAElFTkSuQmCC"}},82247:(e,t,a)=>{"use strict";a.d(t,{xA:()=>c,yg:()=>y});var n=a(14041);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},m="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),m=p(a),u=r,y=m["".concat(l,".").concat(u)]||m[u]||g[u]||i;return a?n.createElement(y,s(s({ref:t},c),{},{components:a})):n.createElement(y,s({ref:t},c))}));function y(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,s=new Array(i);s[0]=u;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[m]="string"==typeof e?e:r,s[1]=o;for(var p=2;p<i;p++)s[p]=a[p];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},71949:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(14041),r=a(9546);const i={tabItem:"tabItem_OMyP"};function s(e){let{children:t,hidden:a,className:s}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.A)(i.tabItem,s),hidden:a},t)}},399:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var n=a(89575),r=a(14041),i=a(9546),s=a(91963),o=a(33480),l=a(29776);const p={tabList:"tabList_M0Dn",tabItem:"tabItem_ysIP"};function c(e){let{className:t,block:a,selectedValue:o,selectValue:l,tabValues:c}=e;const m=[],{blockElementScrollPositionUntilNextRender:g}=(0,s.a_)(),u=e=>{const t=e.currentTarget,a=m.indexOf(t),n=c[a].value;n!==o&&(g(t),l(n))},y=e=>{let t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const a=m.indexOf(e.currentTarget)+1;t=m[a]??m[0];break}case"ArrowLeft":{const a=m.indexOf(e.currentTarget)-1;t=m[a]??m[m.length-1];break}}t?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":a},t)},c.map((e=>{let{value:t,label:a,attributes:s}=e;return r.createElement("li",(0,n.A)({role:"tab",tabIndex:o===t?0:-1,"aria-selected":o===t,key:t,ref:e=>m.push(e),onKeyDown:y,onClick:u},s,{className:(0,i.A)("tabs__item",p.tabItem,s?.className,{"tabs__item--active":o===t})}),a??t)})))}function m(e){let{lazy:t,children:a,selectedValue:n}=e;const i=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},i.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function g(e){const t=(0,o.u)(e);return r.createElement("div",{className:(0,i.A)("tabs-container",p.tabList)},r.createElement(c,(0,n.A)({},e,t)),r.createElement(m,(0,n.A)({},e,t)))}function u(e){const t=(0,l.A)();return r.createElement(g,(0,n.A)({key:String(t)},e))}},33480:(e,t,a)=>{"use strict";a.d(t,{u:()=>g});var n=a(14041),r=a(86090),i=a(25260),s=a(99925),o=a(30559);function l(e){return function(e){return n.Children.map(e,(e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:r}}=e;return{value:t,label:a,attributes:n,default:r}}))}function p(e){const{values:t,children:a}=e;return(0,n.useMemo)((()=>{const e=t??l(a);return function(e){const t=(0,s.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function c(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:a}=e;const s=(0,r.W6)(),o=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,i.aZ)(o),(0,n.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(s.location.search);t.set(o,e),s.replace({...s.location,search:t.toString()})}),[o,s])]}function g(e){const{defaultValue:t,queryString:a=!1,groupId:r}=e,i=p(e),[s,l]=(0,n.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!c({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:i}))),[g,u]=m({queryString:a,groupId:r}),[y,h]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,i]=(0,o.Dv)(a);return[r,(0,n.useCallback)((e=>{a&&i.set(e)}),[a,i])]}({groupId:r}),d=(()=>{const e=g??y;return c({value:e,tabValues:i})?e:null})();(0,n.useLayoutEffect)((()=>{d&&l(d)}),[d]);return{selectedValue:s,selectValue:(0,n.useCallback)((e=>{if(!c({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),h(e)}),[u,h,i]),tabValues:i}}},88834:(e,t,a)=>{"use strict";a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>p,toc:()=>m});var n=a(89575),r=(a(14041),a(82247)),i=a(399),s=a(71949);const o={sidebar_position:1},l="Screenplay Pattern",p={unversionedId:"design/screenplay-pattern",id:"design/screenplay-pattern",title:"Screenplay Pattern",description:"The Screenplay Pattern is an innovative, user-centred approach",source:"@site/docs/design/screenplay-pattern.mdx",sourceDirName:"design",slug:"/design/screenplay-pattern",permalink:"/handbook/design/screenplay-pattern",draft:!1,editUrl:"https://github.com/serenity-js/serenity-js/tree/main/documentation/serenity-js.org/docs/design/screenplay-pattern.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"docs",previous:{title:"Core Design Patterns",permalink:"/handbook/design/"},next:{title:"Assertions and expectations",permalink:"/handbook/design/assertions"}},c={},m=[{value:"The design principle",id:"the-design-principle",level:2},{value:"The five elements of the Screenplay Pattern",id:"the-five-elements-of-the-screenplay-pattern",level:2},{value:"Screenplay Pattern with Serenity/JS",id:"screenplay-pattern-with-serenityjs",level:2},{value:"Actors",id:"actors",level:3},{value:"Instantiating and retrieving actors",id:"instantiating-and-retrieving-actors",level:4},{value:"Using actors with test runners",id:"using-actors-with-test-runners",level:4},{value:"Abilities",id:"abilities",level:3},{value:"Using default test runner configuration",id:"using-default-test-runner-configuration",level:4},{value:"Using a custom cast of actors",id:"using-a-custom-cast-of-actors",level:4},{value:"Interactions",id:"interactions",level:3},{value:"Questions",id:"questions",level:3},{value:"Tasks",id:"tasks",level:3},{value:"Performing activities at multiple levels",id:"performing-activities-at-multiple-levels",level:2},{value:"Start with Serenity/JS Screenplay Pattern \ud83d\ude80",id:"start-with-serenityjs-screenplay-pattern-",level:2},{value:"History of the Screenplay Pattern",id:"history-of-the-screenplay-pattern",level:2}],g=(u="Figure",function(e){return console.warn("Component "+u+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.yg)("div",e)});var u;const y={toc:m},h="wrapper";function d(e){let{components:t,...o}=e;return(0,r.yg)(h,(0,n.A)({},y,o,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"screenplay-pattern"},"Screenplay Pattern"),(0,r.yg)("p",null,"The ",(0,r.yg)("strong",{parentName:"p"},"Screenplay Pattern")," is an innovative, ",(0,r.yg)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/User-centered_design"},"user-centred")," approach\nto writing high-quality automated acceptance tests.\nIt steers your team towards effectively using ",(0,r.yg)("strong",{parentName:"p"},"layers of abstraction"),",\nhelps your test scenarios capture the ",(0,r.yg)("strong",{parentName:"p"},"business vocabulary")," of ",(0,r.yg)("strong",{parentName:"p"},"your domain"),",\nand encourages good testing and software engineering habits."),(0,r.yg)("p",null,"Focusing on actors and their goals and incorporating your domain language into test scenarios\nimproves ",(0,r.yg)("strong",{parentName:"p"},"team collaboration")," and ",(0,r.yg)("strong",{parentName:"p"},"alignment"),", enabling technical and business stakeholders to understand\nand readily contribute to the test automation process."),(0,r.yg)("p",null,"Serenity/JS implementation of the Screenplay Pattern enables developers to easily introduce this design approach\neven into ",(0,r.yg)("a",{parentName:"p",href:"/handbook/getting-started/#modernising-existing-projects"},"existing test automation projects"),".\nMoreover, the framework\nprovides ",(0,r.yg)("a",{parentName:"p",href:"/handbook/getting-started/architecture/#serenityjs-screenplay-pattern-apis"},"integration libraries")," to\nfacilitate various test automation types, including end-to-end, component, mobile and API testing,\nmaking it a versatile choice for different testing needs.\nSerenity/JS also provides ",(0,r.yg)("a",{parentName:"p",href:"/handbook/reporting/"},"reporting tools")," and ",(0,r.yg)("a",{parentName:"p",href:"/handbook/design/"},"code reuse patterns")," that facilitate\nsharing test code across projects and teams and reducing maintenance costs."),(0,r.yg)("h2",{id:"the-design-principle"},"The design principle"),(0,r.yg)("p",null,"The design principle behind the Screenplay Pattern is simple but might forever change the way you look at test automation:"),(0,r.yg)("admonition",{title:"Remember",type:"tip"},(0,r.yg)("p",{parentName:"admonition"},(0,r.yg)("strong",{parentName:"p"},"Automated acceptance tests")," should use ",(0,r.yg)("strong",{parentName:"p"},"your domain language")," to clearly express what ",(0,r.yg)("strong",{parentName:"p"},"activities")," the ",(0,r.yg)("strong",{parentName:"p"},"actors"),"\ninteracting with ",(0,r.yg)("strong",{parentName:"p"},"your system")," need to perform in order to accomplish ",(0,r.yg)("strong",{parentName:"p"},"their goals"),".")),(0,r.yg)("p",null,"Applying this design principle to your automated tests has a number of positive implications:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Expressing your test scenarios in ",(0,r.yg)("strong",{parentName:"li"},"your domain language")," makes them easier to understand and accessible to a wider audience"),(0,r.yg)("li",{parentName:"ul"},"Focusing on ",(0,r.yg)("strong",{parentName:"li"},"actors")," and ",(0,r.yg)("strong",{parentName:"li"},"their goals")," makes it easy to correlate any test failures with the actual business impact"),(0,r.yg)("li",{parentName:"ul"},"Modelling actor workflows using sequences of business-focused, reusable ",(0,r.yg)("strong",{parentName:"li"},"activities")," reduces code duplication, improves flexibility of your test code base,\nand means that your team can quickly compose new test scenarios from existing steps")),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},"To communicate effectively, the code must be based on the same language used to write the requirements\u2014the same language that the developers speak with each other and with domain experts."),(0,r.yg)("p",{parentName:"blockquote"},"\u2015 ",(0,r.yg)("em",{parentName:"p"},"Eric Evans, ",(0,r.yg)("a",{parentName:"em",href:"https://amzn.to/3lKVpFv"},'"Domain-Driven Design: Tackling Complexity in the Heart of Software"')))),(0,r.yg)("h2",{id:"the-five-elements-of-the-screenplay-pattern"},"The five elements of the Screenplay Pattern"),(0,r.yg)("p",null,"The ",(0,r.yg)("strong",{parentName:"p"},"Screenplay Pattern")," uses the ",(0,r.yg)("a",{parentName:"p",href:"https://wiki.c2.com/?SystemMetaphor"},"system metaphor")," of a ",(0,r.yg)("strong",{parentName:"p"},"stage performance"),",\nhelping you model each test scenario like a little ",(0,r.yg)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Screenplay"},"screenplay"),"\ndescribing how the actors should go about performing their activities\nwhile interacting with the ",(0,r.yg)("a",{parentName:"p",href:"http://xunitpatterns.com/SUT.html"},"system under test"),"."),(0,r.yg)("p",null,"Following the Screenplay Pattern helps you capture:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Who")," the actors interacting with your system are"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Why")," they interact with your system"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"What")," they need to do to accomplish their goals"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"How")," exactly they would go about that")),(0,r.yg)("p",null,"The five building blocks of the Screenplay Pattern are:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},(0,r.yg)("a",{parentName:"strong",href:"#actors"},"Actors")),", who represent ",(0,r.yg)("strong",{parentName:"li"},"people")," and ",(0,r.yg)("strong",{parentName:"li"},"external systems")," interacting with the system under test"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},(0,r.yg)("a",{parentName:"strong",href:"#abilities"},"Abilities")),", that act as ",(0,r.yg)("strong",{parentName:"li"},"thin wrappers")," around any ",(0,r.yg)("strong",{parentName:"li"},"integration libraries")," required to interact with the system under test"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},(0,r.yg)("a",{parentName:"strong",href:"#interactions"},"Interactions")),", which represent the ",(0,r.yg)("strong",{parentName:"li"},"low-level activities")," an actor can perform using a given interface"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},(0,r.yg)("a",{parentName:"strong",href:"#tasks"},"Tasks")),", used to model ",(0,r.yg)("strong",{parentName:"li"},"sequences of activities")," as meaningful steps of a business workflow in your domain"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},(0,r.yg)("a",{parentName:"strong",href:"#questions"},"Questions")),", used to ",(0,r.yg)("strong",{parentName:"li"},"retrieve information")," from the system under test and the test execution environment")),(0,r.yg)(g,{caption:"Five elements of the Screenplay Pattern",img:a(75917),mdxType:"Figure"}),(0,r.yg)("h2",{id:"screenplay-pattern-with-serenityjs"},"Screenplay Pattern with Serenity/JS"),(0,r.yg)("p",null,"The best way to illustrate the Screenplay Pattern is through a practical example, so assume for a moment that we're writing a test scenario\nfor an online shop. The shop has a REST API that lets us configure its product catalogue with some test data,\nand a web storefront that lets customers find the products they need and make a purchase."),(0,r.yg)("p",null,"We'll create a test scenario that uses two actors: one to set up the test data, and one to interact with the web UI."),(0,r.yg)("admonition",{title:"Serenity/JS Project Templates",type:"tip"},(0,r.yg)("p",{parentName:"admonition"},"To follow along with the coding, get one of the ",(0,r.yg)("a",{parentName:"p",href:"/handbook/getting-started/project-templates/"},(0,r.yg)("strong",{parentName:"a"},"Serenity/JS Project Templates"))," as they come with everything you need to get started with Serenity/JS.")),(0,r.yg)("h3",{id:"actors"},"Actors"),(0,r.yg)("p",null,"A test scenario following the Screenplay Pattern has one or multiple ",(0,r.yg)("a",{parentName:"p",href:"/api/core/class/Actor"},(0,r.yg)("strong",{parentName:"a"},"actors")),"\nrepresenting people and external systems interacting with the system under test and playing specific roles."),(0,r.yg)("admonition",{title:"The role of an actor",type:"tip"},(0,r.yg)("p",{parentName:"admonition"},'Just like the five core elements of the Screenplay Pattern, the term "role" comes from the system metaphor of a ',(0,r.yg)("strong",{parentName:"p"},"stage performance"),'.\nIt should be interpreted as the role a given actor plays in the performance,\nthe role they play in the system. Some good examples of roles include "a doctor", "a trader", or "a writer".'),(0,r.yg)("p",{parentName:"admonition"},'While a "role" might imply the ',(0,r.yg)("em",{parentName:"p"},"permissions"),' a given actor has in the system they interact with (e.g. a "writer" can write articles,\nbut only a "publisher" publishes articles), this is not a mechanism to ',(0,r.yg)("em",{parentName:"p"},"prevent")," the actor from performing activities inconsistent with their role."),(0,r.yg)("p",{parentName:"admonition"},'In particular, Serenity/JS will not prevent you from writing scenarios where a "writer" tries to impersonate a "publisher"\nand publish an article. If it did, you would not be able to test if your system correctly implemented its access control mechanisms!')),(0,r.yg)("p",null,"Our example scenario could have two actors, who we'll call:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Apisitt, responsible for setting up test data using the REST API"),(0,r.yg)("li",{parentName:"ul"},"Wendy, representing a customer interacting with the web UI")),(0,r.yg)("h4",{id:"instantiating-and-retrieving-actors"},"Instantiating and retrieving actors"),(0,r.yg)("p",null,"With Serenity/JS, you can instantiate new actors or retrieve the ones you've already referenced in the given scenario using the function\n",(0,r.yg)("a",{parentName:"p",href:"/api/core/function/actorCalled"},(0,r.yg)("inlineCode",{parentName:"a"},"actorCalled"))," and providing the name of the actor:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="spec/screenplay-pattern.ts"',title:'"spec/screenplay-pattern.ts"'},"import { actorCalled } from '@serenity-js/core'\n\nactorCalled('Apisitt')  // returns: Actor(name='Apisitt')\nactorCalled('Wendy')    // returns: Actor(name='Wendy')\n")),(0,r.yg)("p",null,"Note that ",(0,r.yg)("strong",{parentName:"p"},"every Serenity/JS actor is uniquely identified by their name"),".\nThe first time you call ",(0,r.yg)("inlineCode",{parentName:"p"},"actorCalled('Wendy')"),", Serenity/JS instantiates a new ",(0,r.yg)("a",{parentName:"p",href:"/api/core/class/Actor/"},(0,r.yg)("inlineCode",{parentName:"a"},"Actor")),"\nand stores a reference to it internally under the name you gave it.\nThis way, whenever you call ",(0,r.yg)("inlineCode",{parentName:"p"},"actorCalled('Wendy')")," ",(0,r.yg)("strong",{parentName:"p"},"within the same scenario")," again, you'll get the same actor instance back."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="spec/screenplay-pattern.ts"',title:'"spec/screenplay-pattern.ts"'},"import assert from 'node:assert/strict'\nimport { actorCalled } from '@serenity-js/core'\n\nconst wendy1 = actorCalled('Wendy') // first invocation of actorCalled\nconst wendy2 = actorCalled('Wendy') // second invocation of actorCalled\n\nassert.equal(wendy1, wendy2)        // wendy1 === wendy 2\n")),(0,r.yg)("p",null,"To avoid typos and repetition when instantiating and retrieving actors in your test scenarios,\nyou might want to consider using ",(0,r.yg)("a",{parentName:"p",href:"https://www.typescriptlang.org/docs/handbook/enums.html#string-enums"},"string enums"),"\nor constants to store actor names:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="spec/screenplay-pattern.ts"',title:'"spec/screenplay-pattern.ts"'},"import { actorCalled } from '@serenity-js/core'\n\nenum ActorNames {\n    Apisitt = 'Apisitt, the test data manager',\n    Wendy   = 'Wendy, the customer',\n}\n\nactorCalled(ActorNames.Apisitt)  // returns: Actor(name='Apisitt')\nactorCalled(ActorNames.Wendy)    // returns: Actor(name='Wendy')\n")),(0,r.yg)("h4",{id:"using-actors-with-test-runners"},"Using actors with test runners"),(0,r.yg)("p",null,"While you could use Serenity/JS and the ",(0,r.yg)("a",{parentName:"p",href:"/api/core/function/actorCalled"},(0,r.yg)("inlineCode",{parentName:"a"},"actorCalled"))," function as part of any regular Node.js program,\nyou'll typically use it with a test runner such as ",(0,r.yg)("a",{parentName:"p",href:"/handbook/test-runners/playwright-test"},"Playwright Test"),",\n",(0,r.yg)("a",{parentName:"p",href:"/handbook/test-runners/cucumber"},"Cucumber.js"),", ",(0,r.yg)("a",{parentName:"p",href:"/handbook/test-runners/mocha"},"Mocha"),", or ",(0,r.yg)("a",{parentName:"p",href:"/handbook/test-runners/jasmine"},"Jasmine"),"."),(0,r.yg)("p",null,"To help you ensure no state leakage between test scenarios, ",(0,r.yg)("a",{parentName:"p",href:"/handbook/test-runners"},"Serenity/JS test runner adapters"),"\nwill also ",(0,r.yg)("a",{parentName:"p",href:"/api/core/class/Actor/#dismiss"},"automatically dismiss")," any actors instantiated within the scope of a test scenario and free up the resources\nthey were using when the scenario finishes."),(0,r.yg)("p",null,"Note that since different test runners have different APIs, the way you retrieve actors might vary slightly depending on the test runner you use:"),(0,r.yg)(i.A,{groupId:"code-examples",mdxType:"Tabs"},(0,r.yg)(s.A,{value:"playwright-test",label:"Playwright Test",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="spec/online_shop.spec.ts" tab={"label":"Playwright Test"}',title:'"spec/online_shop.spec.ts"',tab:'{"label":"Playwright','Test"}':!0},"import { describe, it } from '@serenity-js/playwright-test'\n\n\ndescribe('Online shop', () => {\n\n  it('should allow customers to find products of interest', async ({ actorCalled }) => {\n    actorCalled('Apisitt')  // returns: Actor(name=\"Apisitt\")\n    actorCalled('Wendy')    // returns: Actor(name=\"Wendy\")\n  })\n})\n"))),(0,r.yg)(s.A,{value:"mocha",label:"Mocha",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="spec/online_shop.spec.ts" tab={"label":"Mocha"}',title:'"spec/online_shop.spec.ts"',tab:'{"label":"Mocha"}'},"import { actorCalled } from '@serenity-js/core'\nimport { describe, it } from 'mocha'\n\ndescribe('Online shop', () => {\n\n  it('should allow customers to find products of interest', async () => {\n    actorCalled('Apisitt')  // returns: Actor(name=\"Apisitt\")\n    actorCalled('Wendy')    // returns: Actor(name=\"Wendy\")\n  })\n})\n"))),(0,r.yg)(s.A,{value:"jasmine",label:"Jasmine",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="spec/online_shop.spec.ts" tab={"label":"Jasmine"}',title:'"spec/online_shop.spec.ts"',tab:'{"label":"Jasmine"}'},"import 'jasmine'\nimport { actorCalled } from '@serenity-js/core'\n\ndescribe('Online shop', () => {\n\n  it('should allow customers to find products of interest', async () => {\n    actorCalled('Apisitt')  // returns: Actor(name=\"Apisitt\")\n    actorCalled('Wendy')    // returns: Actor(name=\"Wendy\")\n  })\n})\n"))),(0,r.yg)(s.A,{value:"cucumber",label:"Cucumber",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="features/step_definitions/online_shop.steps.ts" tab={"label":"Cucumber"}',title:'"features/step_definitions/online_shop.steps.ts"',tab:'{"label":"Cucumber"}'},"import { Given, When, Then } from '@cucumber/cucumber'\nimport { actorCalled } from '@serenity-js/core'\n\n// Given the product catalogue has \"Apples\" at \xa32.50\nGiven('the product catalogue has {string} at \xa3{float}', async (product: string, price: number) => {\n    actorCalled('Apisitt') // returns: Actor(name=\"Apisitt\")\n    // ...\n})\n")))),(0,r.yg)("h3",{id:"abilities"},"Abilities"),(0,r.yg)("p",null,"Actors have ",(0,r.yg)("a",{parentName:"p",href:"/api/core/class/Ability"},(0,r.yg)("strong",{parentName:"a"},"abilities"))," that enable them to interact with the various interfaces\nof the system under test and the test execution environment."),(0,r.yg)("p",null,"From the technical perspective, ",(0,r.yg)("strong",{parentName:"p"},"abilities")," act as ",(0,r.yg)("strong",{parentName:"p"},"wrappers")," around any ",(0,r.yg)("strong",{parentName:"p"},"integration libraries")," required\nto communicate with the external interfaces of system under test,\nsuch as ",(0,r.yg)("a",{parentName:"p",href:"/api/web/class/BrowseTheWeb/"},"web browser drivers")," or an ",(0,r.yg)("a",{parentName:"p",href:"/api/rest/class/CallAnApi/"},"HTTP client"),",\nor ",(0,r.yg)("a",{parentName:"p",href:"/api/core/class/TakeNotes/"},"hold state")," to allow actors to remember retrieved information.\nAbilities also enable ",(0,r.yg)("a",{parentName:"p",href:"/handbook/design/portable-test-code"},"portability"),"\nof your test code across various lower-level integration libraries as they expose a standardised API."),(0,r.yg)("admonition",{title:"Did you know?",type:"info"},(0,r.yg)("p",{parentName:"admonition"},'The word "screen" in "screenplay" has nothing to do with the ',(0,r.yg)("em",{parentName:"p"},"computer screen"),".\nOn the contrary, the Screenplay Pattern is a ",(0,r.yg)("strong",{parentName:"p"},"general method")," of modelling acceptance tests interacting with ",(0,r.yg)("em",{parentName:"p"},"any"),"\nexternal interface of your system. In fact, Serenity/JS implementation of the Screenplay Pattern can help you\nbreak free from UI-only-based testing!")),(0,r.yg)("p",null,"To allow Apisitt to interact with a ",(0,r.yg)("a",{parentName:"p",href:"/api/rest"},"REST API"),", we'll give him the ability to ",(0,r.yg)("a",{parentName:"p",href:"/api/rest/class/CallAnApi"},(0,r.yg)("inlineCode",{parentName:"a"},"CallAnApi")),",\nwrapping an instance of an ",(0,r.yg)("a",{parentName:"p",href:"https://axios-http.com/docs/instance"},"Axios HTTP client"),":"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="spec/screenplay-pattern.ts"',title:'"spec/screenplay-pattern.ts"'},"import axios from 'axios'\nimport { actorCalled } from '@serenity-js/core'\nimport { CallAnApi } from '@serenity-js/rest'\n\nconst axiosInstance = axios.create({ baseURL 'https://api.example.org/' })\n\nconst actor = actorCalled('Apisitt')\n    .whoCan(CallAnApi.using(axiosInstance))\n\n// ...\n")),(0,r.yg)("p",null,"At the same time, to allow Wendy to interact with the ",(0,r.yg)("a",{parentName:"p",href:"/api/web"},"web UI")," we'll give her an instance of a ",(0,r.yg)("a",{parentName:"p",href:"https://playwright.dev/docs/api/class-browser"},"Playwright browser"),", although she could use any other ",(0,r.yg)("a",{parentName:"p",href:"/handbook/web-testing/"},"popular web browser driver supported by Serenity/JS"),":"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="spec/screenplay-pattern.ts"',title:'"spec/screenplay-pattern.ts"'},"import { actorCalled } from '@serenity-js/core'\nimport { BrowseTheWebWithPlaywright } from '@serenity-js/playwright'\n\nimport { chromium } from 'playwright'\n\nasync function example() {\n    let browser\n\n    try {\n        browser = await chromium.launch({ headless: false })\n\n        const actor = actorCalled('Wendy')\n            .whoCan(BrowseTheWebWithPlaywright.using(browser))\n\n        // ...\n    }\n    finally {\n        if (browser) {\n            await browser.close()\n        }\n    }\n}\n")),(0,r.yg)("p",null,"Even though the ",(0,r.yg)("a",{parentName:"p",href:"/api/core/function/actorCalled"},(0,r.yg)("inlineCode",{parentName:"a"},"actorCalled"))," function makes instantiating and retrieving actors straightforward, setting up browser drivers, HTTP clients, and similar libraries can be more involved.\nThankfully, Serenity/JS has a mechanism to help you with that, as you'll see in the next section."),(0,r.yg)("h4",{id:"using-default-test-runner-configuration"},"Using default test runner configuration"),(0,r.yg)("p",null,"Since configuring integration libraries like Axios or Playwright is a common task in test automation,\nSerenity/JS test runner adapters use your test runner's configuration to set up the abilities for you.\nAnd so, Serenity/JS adapters for the following test runners will automatically give every actor you retrieve via ",(0,r.yg)("a",{parentName:"p",href:"/api/core/function/actorCalled"},(0,r.yg)("inlineCode",{parentName:"a"},"actorCalled"))," the below abilities so that you don't have to configure them yourself:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/handbook/test-runners/playwright-test"},"Playwright Test"),":",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/api/playwright/class/BrowseTheWebWithPlaywright/"},(0,r.yg)("inlineCode",{parentName:"a"},"BrowseTheWebWithPlaywright")),","),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/api/rest/class/CallAnApi"},(0,r.yg)("inlineCode",{parentName:"a"},"CallAnApi"))," at ",(0,r.yg)("a",{parentName:"li",href:"/api/playwright/interface/PlaywrightOptions/#baseURL"},(0,r.yg)("inlineCode",{parentName:"a"},"baseURL"))," configured in the ",(0,r.yg)("a",{parentName:"li",href:"https://playwright.dev/docs/test-configuration"},"Playwright Test config file"),","),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/api/core/class/TakeNotes"},(0,r.yg)("inlineCode",{parentName:"a"},"TakeNotes"))))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/handbook/test-runners/webdriverio/"},"WebdriverIO")," (with ",(0,r.yg)("a",{parentName:"li",href:"/handbook/test-runners/cucumber"},"Cucumber"),", ",(0,r.yg)("a",{parentName:"li",href:"/handbook/test-runners/jasmine"},"Jasmine"),", or ",(0,r.yg)("a",{parentName:"li",href:"/handbook/test-runners/mocha"},"Mocha"),"):",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/api/webdriverio/class/BrowseTheWebWithWebdriverIO/"},(0,r.yg)("inlineCode",{parentName:"a"},"BrowseTheWebWithWebdriverIO")),","),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/api/rest/class/CallAnApi"},(0,r.yg)("inlineCode",{parentName:"a"},"CallAnApi"))," at ",(0,r.yg)("a",{parentName:"li",href:"/api/webdriverio/interface/WebdriverIOConfig/#baseUrl"},(0,r.yg)("inlineCode",{parentName:"a"},"baseUrl"))," configured in the ",(0,r.yg)("a",{parentName:"li",href:"https://webdriver.io/docs/configurationfile/"},"WebdriverIO config file"),","),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/api/core/class/TakeNotes"},(0,r.yg)("inlineCode",{parentName:"a"},"TakeNotes"))))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/handbook/test-runners/protractor/"},"Protractor")," (with ",(0,r.yg)("a",{parentName:"li",href:"/handbook/test-runners/cucumber"},"Cucumber"),", ",(0,r.yg)("a",{parentName:"li",href:"/handbook/test-runners/jasmine"},"Jasmine"),", or ",(0,r.yg)("a",{parentName:"li",href:"/handbook/test-runners/mocha"},"Mocha"),"):",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/api/protractor/class/BrowseTheWebWithProtractor/"},(0,r.yg)("inlineCode",{parentName:"a"},"BrowseTheWebWithProtractor")),","),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/api/rest/class/CallAnApi"},(0,r.yg)("inlineCode",{parentName:"a"},"CallAnApi"))," at ",(0,r.yg)("a",{parentName:"li",href:"/api/protractor-adapter/interface/Config/#baseUrl"},(0,r.yg)("inlineCode",{parentName:"a"},"baseUrl"))," configured in the ",(0,r.yg)("a",{parentName:"li",href:"https://github.com/angular/protractor/blob/master/lib/config.ts"},"Protractor config file"),","),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/api/core/class/TakeNotes"},(0,r.yg)("inlineCode",{parentName:"a"},"TakeNotes")))))),(0,r.yg)("p",null,"To retrieve actor's ability to do something, you can use the ",(0,r.yg)("a",{parentName:"p",href:"/api/core/class/Actor/#whoCan"},(0,r.yg)("inlineCode",{parentName:"a"},"Actor.abilityTo"))," method,\nwhich returns an implementation of the ability if the actor has it, or throws a ",(0,r.yg)("a",{parentName:"p",href:"/api/core/class/ConfigurationError/"},(0,r.yg)("inlineCode",{parentName:"a"},"ConfigurationError"))," if they don't.\nWhile you wouldn't retrieve the abilities directly in your test scenarios, you'd use this mechanism in your custom ",(0,r.yg)("a",{parentName:"p",href:"/handbook/design/screenplay-pattern/#interactions"},"interactions")," and ",(0,r.yg)("a",{parentName:"p",href:"/handbook/design/screenplay-pattern/#questions"},"questions"),"."),(0,r.yg)(i.A,{groupId:"code-examples",mdxType:"Tabs"},(0,r.yg)(s.A,{value:"playwright-test",label:"Playwright Test",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="spec/online_shop.spec.ts" tab={"label":"Playwright Test"}',title:'"spec/online_shop.spec.ts"',tab:'{"label":"Playwright','Test"}':!0},"import { describe, it } from '@serenity-js/playwright-test'\nimport { BrowseTheWeb } from '@serenity-js/web'\nimport { CallAnApi } from '@serenity-js/rest'\nimport { TakeNotes } from '@serenity-js/core'\nimport assert from 'node:assert/strict'\n\ndescribe('Online shop', () => {\n\n  it('should allow customers to find products of interest', async ({ actorCalled }) => {\n    assert.ok(actorCalled('Wendy').abilityTo(BrowseTheWeb))\n    assert.ok(actorCalled('Wendy').abilityTo(CallAnApi))\n    assert.ok(actorCalled('Wendy').abilityTo(TakeNotes))\n\n    // ...\n  })\n})\n"))),(0,r.yg)(s.A,{value:"webdriverio-with mocha",label:"WebdriverIO with Mocha",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="spec/online_shop.spec.ts" tab={"label":"WebdriverIO with Mocha"}',title:'"spec/online_shop.spec.ts"',tab:'{"label":"WebdriverIO',with:!0,'Mocha"}':!0},"import { describe, it } from 'mocha'\nimport { BrowseTheWeb } from '@serenity-js/web'\nimport { CallAnApi } from '@serenity-js/rest'\nimport { actorCalled, TakeNotes } from '@serenity-js/core'\nimport assert from 'node:assert/strict'\n\ndescribe('Online shop', () => {\n\n  it('should allow customers to find products of interest', async () => {\n    assert.ok(actorCalled('Wendy').abilityTo(BrowseTheWeb))\n    assert.ok(actorCalled('Wendy').abilityTo(CallAnApi))\n    assert.ok(actorCalled('Wendy').abilityTo(TakeNotes))\n\n    // ...\n  })\n})\n"))),(0,r.yg)(s.A,{value:"webdriverio-with cucumber",label:"WebdriverIO with Cucumber",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="features/step_definitions/online_shop.steps.ts" tab={"label":"WebdriverIO with Cucumber"}',title:'"features/step_definitions/online_shop.steps.ts"',tab:'{"label":"WebdriverIO',with:!0,'Cucumber"}':!0},"import { Given, When, Then } from '@cucumber/cucumber'\nimport { BrowseTheWeb } from '@serenity-js/web'\nimport { CallAnApi } from '@serenity-js/rest'\nimport { actorCalled, TakeNotes } from '@serenity-js/core'\nimport assert from 'node:assert/strict'\n\n// Given the product catalogue has \"Apples\" at \xa32.50\nGiven('the product catalogue has {string} at \xa3{float}', async (product: string, price: number) => {\n    assert.ok(actorCalled('Wendy').abilityTo(BrowseTheWeb))\n    assert.ok(actorCalled('Wendy').abilityTo(CallAnApi))\n    assert.ok(actorCalled('Wendy').abilityTo(TakeNotes))\n    // ...\n})\n")))),(0,r.yg)("p",null,"As this simple test scenario shows, Serenity/JS provides your actors with the default abilities to ",(0,r.yg)("inlineCode",{parentName:"p"},"BrowseTheWeb"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"CallAnApi")," and ",(0,r.yg)("inlineCode",{parentName:"p"},"TakeNotes"),"\n",(0,r.yg)("strong",{parentName:"p"},"without you having to modify any configuration")," and ",(0,r.yg)("strong",{parentName:"p"},"without writing any additional code"),".\nAll you need to do is to create/retrieve the ",(0,r.yg)("inlineCode",{parentName:"p"},"Actor")," by calling ",(0,r.yg)("a",{parentName:"p",href:"api/core/function/actorCalled/"},(0,r.yg)("inlineCode",{parentName:"a"},"actorCalled(<name>)")),"."),(0,r.yg)("admonition",{title:"Portable test code",type:"tip"},(0,r.yg)("p",{parentName:"admonition"},"Playwright Test, WebdriverIO and Protractor test runners vary dramatically and have completely different and incompatible APIs.\nThis would normally tie your test suite to a specific integration tool and prevent you from being able to run test scenarios written for one test runner using another."),(0,r.yg)("p",{parentName:"admonition"},"To solve this problem and allow your test suite to be agnostic of the underlying integration tool,\nSerenity/JS test runner adapters configure the default cast of actors with an ability to ",(0,r.yg)("a",{parentName:"p",href:"/api/web/class/BrowseTheWeb/"},(0,r.yg)("inlineCode",{parentName:"a"},"BrowseTheWeb")),"\nspecific to the given test runner, so: ",(0,r.yg)("a",{parentName:"p",href:"/api/playwright/class/BrowseTheWebWithPlaywright/"},(0,r.yg)("inlineCode",{parentName:"a"},"BrowseTheWebWithPlaywright")),",\n",(0,r.yg)("a",{parentName:"p",href:"/api/webdriverio/class/BrowseTheWebWithWebdriverIO/"},(0,r.yg)("inlineCode",{parentName:"a"},"BrowseTheWebWithWebdriverIO")),", or ",(0,r.yg)("a",{parentName:"p",href:"/api/protractor/class/BrowseTheWebWithProtractor/"},(0,r.yg)("inlineCode",{parentName:"a"},"BrowseTheWebWithProtractor")),",\nbut exposing a consistent  API across all test runners."),(0,r.yg)("p",{parentName:"admonition"},"This design allows you to write test scenarios that interact with the web UI without having to worry about the underlying integration tool and makes your test code ",(0,r.yg)("a",{parentName:"p",href:"/handbook/design/portable-test-code/"},"portable across different test runners"),".")),(0,r.yg)("h4",{id:"using-a-custom-cast-of-actors"},"Using a custom cast of actors"),(0,r.yg)("p",null,"Following the system metaphor of a stage performance, Serenity/JS uses a ",(0,r.yg)("a",{parentName:"p",href:"/api/core/class/Cast"},"cast of actors")," to configure the default abilities the actors receive upon instantiation."),(0,r.yg)("p",null,"If you'd like to modify those defaults, or if you use Serenity/JS with ",(0,r.yg)("a",{parentName:"p",href:"/handbook/test-runners/cucumber"},"Cucumber"),", ",(0,r.yg)("a",{parentName:"p",href:"/handbook/test-runners/jasmine"},"Jasmine"),", or ",(0,r.yg)("a",{parentName:"p",href:"/handbook/test-runners/mocha"},"Mocha")," without a ",(0,r.yg)("a",{parentName:"p",href:"/handbook/test-runners/webdriverio/"},"WebdriverIO")," or ",(0,r.yg)("a",{parentName:"p",href:"/handbook/test-runners/protractor/"},"Protractor")," wrapper\nthat set up the defaults automatically, you can instruct Serenity/JS to use a custom cast."),(0,r.yg)(i.A,{groupId:"code-examples",mdxType:"Tabs"},(0,r.yg)(s.A,{value:"playwright-test",label:"Playwright Test",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="spec/online_shop.spec.ts" tab={"label":"Playwright Test"}',title:'"spec/online_shop.spec.ts"',tab:'{"label":"Playwright','Test"}':!0},"import { BrowseTheWebWithPlaywright } from '@serenity-js/playwright'\nimport { describe, it, test } from '@serenity-js/playwright-test'\nimport { Cast, TakeNotes, Notepad } from '@serenity-js/core'\n\ntest.use({\n    // Replace the entire default cast:\n    actors: async ({ contextOptions, page }, use): Promise<void> => {\n        const cast = Cast.where(actor => actor.whoCan(\n            BrowseTheWebWithPlaywright.usingPage(page, contextOptions),\n            TakeNotes.usingAnEmptyNotepad(),\n            // ... other abilities\n        ))\n\n        await use(cast)\n    },\n\n    // Alternatively, wrap actorCalled to give actors additional abilities\n    // or override the default ones:\n    actorCalled: async ({ actorCalled }, use) => {\n        await use((name: string) => {\n            return actorCalled(name).whoCan(\n                TakeNotes.using(Notepad.with({\n                  firstName: name,\n                  lastName: 'Tester',\n                }))\n                // ... other abilities\n            )\n        })\n    },\n})\n\ndescribe('Online shop', () => {\n\n  it('should allow customers to find products of interest', async ({ actorCalled }) => {\n    actorCalled('Apisitt')  // returns: Actor(name=\"Apisitt\")\n    actorCalled('Wendy')    // returns: Actor(name=\"Wendy\")\n  })\n})\n"))),(0,r.yg)(s.A,{value:"webdriverio",label:"WebdriverIO",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="wdio.conf.ts" tab={"label":"WebdriverIO"}',title:'"wdio.conf.ts"',tab:'{"label":"WebdriverIO"}'},"import { BrowseTheWebWithWebdriverIO, WebdriverIOConfig } from '@serenity-js/webdriverio'\nimport { Cast, TakeNotes } from '@serenity-js/core'\nimport { browser } from '@wdio/globals'\n\nexport const config: WebdriverIOConfig = {\n\n    framework: '@serenity-js/webdriverio',\n\n    serenity: {\n        // Replace the entire default cast:\n        actors: Cast.where(actor => actor.whoCan(\n            BrowseTheWebWithWebdriverIO.using(browser),\n            TakeNotes.usingAnEmptyNotepad(),\n            // ... other abilities\n        )),\n\n        // Configure Serenity/JS to use an appropriate test runner adapter\n        runner: 'cucumber', // or: 'mocha', 'jasmine'\n\n        // ... other Serenity/JS configuration\n    },\n}\n"))),(0,r.yg)(s.A,{value:"protractor",label:"Protractor",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="protractor.conf.js" tab={"label":"Protractor"}',title:'"protractor.conf.js"',tab:'{"label":"Protractor"}'},"const { BrowseTheWebWithProtractor } = require('@serenity-js/protractor')\nconst { Cast, TakeNotes } = require( '@serenity-js/core')\nconst protractor = require('protractor')\n\nexports.config = {\n\n    framework:      'custom',\n    frameworkPath:  require.resolve('@serenity-js/protractor/adapter'),\n\n    serenity: {\n\n        actors: Cast.where(actor => actor.whoCan(\n            BrowseTheWebWithProtractor.using(protractor.browser),\n            TakeNotes.usingAnEmptyNotepad(),\n            // ... other abilities\n        )),\n\n        // Configure Serenity/JS to use an appropriate test runner adapter\n        runner: 'jasmine', // or 'mocha', 'cucumber'\n\n        // ... other Serenity/JS configuration\n    },\n}\n")))),(0,r.yg)("p",null,"If you're using ",(0,r.yg)("a",{parentName:"p",href:"/handbook/test-runners/cucumber"},"Cucumber"),", ",(0,r.yg)("a",{parentName:"p",href:"/handbook/test-runners/jasmine"},"Jasmine"),", or ",(0,r.yg)("a",{parentName:"p",href:"/handbook/test-runners/mocha"},"Mocha")," without a ",(0,r.yg)("a",{parentName:"p",href:"/handbook/test-runners/webdriverio/"},"WebdriverIO")," or ",(0,r.yg)("a",{parentName:"p",href:"/handbook/test-runners/protractor/"},"Protractor")," wrapper,\nyou can configure the default cast of actors using the ",(0,r.yg)("a",{parentName:"p",href:"/api/core/function/configure/"},(0,r.yg)("inlineCode",{parentName:"a"},"configure"))," and ",(0,r.yg)("a",{parentName:"p",href:"/api/core/function/engage/"},(0,r.yg)("inlineCode",{parentName:"a"},"engage"))," functions, as per the test runner adapter configuration."),(0,r.yg)("p",null,"Learn more about:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/api/core/class/Ability"},"Abilities")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/handbook/web-testing/"},"Web testing")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/handbook/api-testing/"},"Api testing")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/handbook/mobile-testing/"},"Mobile testing"))),(0,r.yg)("h3",{id:"interactions"},"Interactions"),(0,r.yg)("p",null,"Abilities enable actors to perform ",(0,r.yg)("a",{parentName:"p",href:"/api/core/class/Interaction"},(0,r.yg)("strong",{parentName:"a"},"interactions"))," with the system under test.\n",(0,r.yg)("strong",{parentName:"p"},"Interactions")," are ",(0,r.yg)("strong",{parentName:"p"},"command objects")," that instruct an actor how to use their abilities to perform the given activity.\nMost interactions you will need are already provided by ",(0,r.yg)("a",{parentName:"p",href:"/handbook/about/architecture"},"Serenity/JS modules"),",\nand you can easily ",(0,r.yg)("a",{parentName:"p",href:"/api/core/class/Interaction"},"create new ones")," if you'd like to."),(0,r.yg)("p",null,"To instruct an actor to attempt to perform a sequence of interactions, use the ",(0,r.yg)("a",{parentName:"p",href:"/api/core/class/Actor#attemptsTo"},(0,r.yg)("inlineCode",{parentName:"a"},"Actor.attemptsTo"))," method.\nNote that this method returns a ",(0,r.yg)("inlineCode",{parentName:"p"},"Promise")," that resolves when the actor has completed the interactions, or rejects if any of the interactions fail,\nso you can use it with ",(0,r.yg)("inlineCode",{parentName:"p"},"await")," in an ",(0,r.yg)("inlineCode",{parentName:"p"},"async")," function."),(0,r.yg)("p",null,"Here, we instruct Apisitt to use the interaction to ",(0,r.yg)("a",{parentName:"p",href:"/api/rest/class/Send"},(0,r.yg)("inlineCode",{parentName:"a"},"Send.a(HTTPRequest)"))," from the ",(0,r.yg)("a",{parentName:"p",href:"/api/rest"},"Serenity/JS REST")," module\nto set up some test data for our test scenario:"),(0,r.yg)(i.A,{groupId:"code-examples",mdxType:"Tabs"},(0,r.yg)(s.A,{value:"playwright-test",label:"Playwright Test",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="spec/online_shop.spec.ts" tab={"label":"Playwright Test"}',title:'"spec/online_shop.spec.ts"',tab:'{"label":"Playwright','Test"}':!0},"import { describe, it } from '@serenity-js/playwright-test'\nimport { Send, PostRequest } from '@serenity-js/rest'\n\ndescribe('Online shop', () => {\n\n  it('should allow customers to find products of interest', async ({ actorCalled }) => {\n\n    await actorCalled('Apisitt').attemptsTo(       // - actors attempt to perform interactions\n        Send.a(PostRequest.to('/products').with([  // - interactions like `Send` are command objects,\n            { name: 'Apples', price: '\xa32.50' }     //   that instruct actors how to use their abilities\n        ])),\n    )\n\n    // ...\n  })\n})\n"))),(0,r.yg)(s.A,{value:"webdriverio-with mocha",label:"WebdriverIO with Mocha",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="spec/online_shop.spec.ts" tab={"label":"WebdriverIO with Mocha"}',title:'"spec/online_shop.spec.ts"',tab:'{"label":"WebdriverIO',with:!0,'Mocha"}':!0},"import { describe, it } from 'mocha'\nimport { actorCalled } from '@serenity-js/core'\nimport { Send, PostRequest } from '@serenity-js/rest'\n\ndescribe('Online shop', () => {\n\n  it('should allow customers to find products of interest', async () => {\n\n    await actorCalled('Apisitt').attemptsTo(       // - actors attempt to perform interactions\n        Send.a(PostRequest.to('/products').with([  // - interactions like `Send` are command objects,\n            { name: 'Apples', price: '\xa32.50' }     //   that instruct actors how to use their abilities\n        ])),\n    )\n\n    // ...\n  })\n})\n"))),(0,r.yg)(s.A,{value:"webdriverio-with cucumber",label:"WebdriverIO with Cucumber",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="features/step_definitions/online_shop.steps.ts" tab={"label":"WebdriverIO with Cucumber"}',title:'"features/step_definitions/online_shop.steps.ts"',tab:'{"label":"WebdriverIO',with:!0,'Cucumber"}':!0},"import { Given, When, Then } from '@cucumber/cucumber'\nimport { actorCalled } from '@serenity-js/core'\nimport { Send, PostRequest } from '@serenity-js/rest'\n\n// Given the product catalogue has \"Apples\" at \xa32.50\nGiven('the product catalogue has {string} at \xa3{float}', async (product: string, price: number) => {\n\n    await actorCalled('Apisitt').attemptsTo(       // - actors attempt to perform interactions\n        Send.a(PostRequest.to('/products').with([  // - interactions like `Send` are command objects,\n            { name: product, price: `\xa3${price}` }  //   that instruct actors how to use their abilities\n        ])),\n    )\n})\n")))),(0,r.yg)("p",null,"In the same manner, we can instruct Wendy to use interactions from the ",(0,r.yg)("a",{parentName:"p",href:"/api/web"},"Serenity/JS Web")," module\nto ",(0,r.yg)("a",{parentName:"p",href:"/api/web/class/Navigate"},"navigate")," to the web interface of our system under test:"),(0,r.yg)(i.A,{groupId:"code-examples",mdxType:"Tabs"},(0,r.yg)(s.A,{value:"playwright-test",label:"Playwright Test",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="spec/online_shop.spec.ts" tab={"label":"Playwright Test"}',title:'"spec/online_shop.spec.ts"',tab:'{"label":"Playwright','Test"}':!0},"import { describe, it } from '@serenity-js/playwright-test'\nimport { Send, PostRequest } from '@serenity-js/rest'\nimport { Navigate } from '@serenity-js/web'\n\ndescribe('Online shop', () => {\n\n  it('should allow customers to find products of interest', async ({ actorCalled }) => {\n\n    await actorCalled('Apisitt').attemptsTo(       // - actors attempt to perform interactions\n        Send.a(PostRequest.to('/products').with([  // - interactions like `Send` are command objects,\n            { name: 'Apples', price: '\xa32.50' }     //   that instruct actors how to use their abilities\n        ])),\n    )\n\n    await actorCalled('Wendy').attemptsTo(\n        Navigate.to('https://example.org'),        // - all Serenity/JS interactions have a consistent API,\n    )                                              //   no matter the interface they're interacting with\n  })\n})\n"))),(0,r.yg)(s.A,{value:"webdriverio-with mocha",label:"WebdriverIO with Mocha",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="spec/online_shop.spec.ts" tab={"label":"WebdriverIO with Mocha"}',title:'"spec/online_shop.spec.ts"',tab:'{"label":"WebdriverIO',with:!0,'Mocha"}':!0},"import { describe, it } from 'mocha'\nimport { actorCalled } from '@serenity-js/core'\nimport { Send, PostRequest } from '@serenity-js/rest'\nimport { Navigate } from '@serenity-js/web'\n\ndescribe('Online shop', () => {\n\n  it('should allow customers to find products of interest', async () => {\n\n    await actorCalled('Apisitt').attemptsTo(       // - actors attempt to perform interactions\n        Send.a(PostRequest.to('/products').with([  // - interactions like `Send` are command objects,\n            { name: 'Apples', price: '\xa32.50' }     //   that instruct actors how to use their abilities\n        ])),\n    )\n\n    await actorCalled('Wendy').attemptsTo(\n        Navigate.to('https://example.org'),        // - all Serenity/JS interactions have a consistent API,\n    )                                              //   no matter the interface they're interacting with\n  })\n})\n"))),(0,r.yg)(s.A,{value:"webdriverio-with cucumber",label:"WebdriverIO with Cucumber",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="features/step_definitions/online_shop.steps.ts" tab={"label":"WebdriverIO with Cucumber"}',title:'"features/step_definitions/online_shop.steps.ts"',tab:'{"label":"WebdriverIO',with:!0,'Cucumber"}':!0},"import { Given, When, Then } from '@cucumber/cucumber'\nimport { actorCalled } from '@serenity-js/core'\nimport { Send, PostRequest } from '@serenity-js/rest'\nimport { Navigate } from '@serenity-js/web'\n\n// Given the product catalogue has \"Apples\" at \xa32.50\nGiven('the product catalogue has {string} at \xa3{float}', async (product: string, price: number) => {\n\n    await actorCalled('Apisitt').attemptsTo(       // - actors attempt to perform interactions\n        Send.a(PostRequest.to('/products').with([  // - interactions like `Send` are command objects,\n            { name: product, price: `\xa3${price}` }  //   that instruct actors how to use their abilities\n        ])),\n    )\n})\n\n// When Wendy looks for \"Apples\"\nWhen('{word} looks for {string}', async (actor: string, product: string) => {\n    await actorCalled(actor).attemptsTo(\n        Navigate.to('https://example.org'),        // - all Serenity/JS interactions have a consistent API,\n    )                                              //   no matter the interface they're interacting with\n})\n")))),(0,r.yg)("p",null,"Note how the interaction to ",(0,r.yg)("a",{parentName:"p",href:"/api/web/class/Navigate"},(0,r.yg)("inlineCode",{parentName:"a"},"Navigate.to(url)"))," comes from the ",(0,r.yg)("a",{parentName:"p",href:"/api/web"},(0,r.yg)("inlineCode",{parentName:"a"},"@serenity-js/web"))," module\nand works regardless of the underlying web browser driver used by the actor, making your test code ",(0,r.yg)("a",{parentName:"p",href:"/handbook/design/portable-test-code/"},"portable across different web integration tools"),".\nUnder the hood, the interaction requests the actor's ability to ",(0,r.yg)("a",{parentName:"p",href:"/api/web/class/BrowseTheWeb/"},(0,r.yg)("inlineCode",{parentName:"a"},"BrowseTheWeb"))," and Serenity/JS returns the appropriate implementation of the ability."),(0,r.yg)("p",null,"If you wanted to implement an interaction to ",(0,r.yg)("inlineCode",{parentName:"p"},"navigateTo(url)")," yourself, you might do it like this:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"import { Interaction } from '@serenity-js/core'\nimport { BrowseTheWeb } from '@serenity-js/web'\n\nconst navigateTo = (url: string) =>\n    Interaction.where(`#actor navigates to ${ url }`, async actor => {\n        const page = await BrowseTheWeb.as(actor).currentPage()\n\n        return page.navigateTo(url)\n    })\n")),(0,r.yg)("p",null,"Another thing to note about the code samples in this section is that even though Playwright Test, Mocha, and Cucumber have completely different APIs,\nthe way we instruct actors to perform interactions is consistent across all test runners. This design makes it easier for you to migrate your test scenarios\nfrom one test runner to another if needed. It also enables you to make your test suite use ",(0,r.yg)("strong",{parentName:"p"},"different test runners")," for ",(0,r.yg)("strong",{parentName:"p"},"different types of test scenarios")," while ",(0,r.yg)("strong",{parentName:"p"},"reusing the same underlying test automation code"),"."),(0,r.yg)("p",null,"For example, you might want to use Serenity/JS with Cucumber for business-facing scenarios, Playwright Test for UI component tests, and with Mocha for REST API tests."),(0,r.yg)("p",null,"Learn more about:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/api/core/class/Actor"},"Actors")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/api/core/class/Interaction"},"Interactions")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/handbook/design/debugging"},"Debugging"))),(0,r.yg)("h3",{id:"questions"},"Questions"),(0,r.yg)("p",null,"Apart from enabling interactions, abilities also enable actors to answer ",(0,r.yg)("a",{parentName:"p",href:"/api/core/class/Question"},(0,r.yg)("strong",{parentName:"a"},"questions")),"\nabout the state of the system under test and the test execution environment.\nMore specifically, ",(0,r.yg)("strong",{parentName:"p"},"questions")," instruct actors how to use their abilities to ",(0,r.yg)("strong",{parentName:"p"},"retrieve information when the activity is performed")," and provide a way to ",(0,r.yg)("strong",{parentName:"p"},"parameterise activities"),"."),(0,r.yg)("p",null,"When Apisitt uses his ability to ",(0,r.yg)("a",{parentName:"p",href:"/api/rest/class/CallAnApi"},(0,r.yg)("inlineCode",{parentName:"a"},"CallAnApi"))," to ",(0,r.yg)("a",{parentName:"p",href:"/api/rest/class/Send"},(0,r.yg)("inlineCode",{parentName:"a"},"Send"))," a ",(0,r.yg)("a",{parentName:"p",href:"/api/rest/class/CallAnApi"},(0,r.yg)("inlineCode",{parentName:"a"},"PostRequest")),",\nthe result of this interaction is stored in the ability. To retrieve its value, we instruct the actor to answer a question about the ",(0,r.yg)("a",{parentName:"p",href:"/api/rest/class/LastResponse"},(0,r.yg)("inlineCode",{parentName:"a"},"LastResponse")),", such as ",(0,r.yg)("a",{parentName:"p",href:"/api/rest/class/LastResponse#status"},(0,r.yg)("inlineCode",{parentName:"a"},"LastResponse.status()")),".\nThis declarative approach to information retrieval not only makes your test scenarios more readable, it provides a consistent API for you to design ",(0,r.yg)("a",{parentName:"p",href:"/handbook/design/assertions"},"assertions"),", ",(0,r.yg)("a",{parentName:"p",href:"/handbook/design/waiting-and-synchronisation/"},"waiting and synchronisation statements"),",\nand perform ",(0,r.yg)("a",{parentName:"p",href:"/handbook/web-testing/page-element-query-language/#transforming-answers-to-questions"},"data transformations"),"."),(0,r.yg)("p",null,"For example, to instruct Apisitt to assert on the result of the HTTP request, we provide him with an interaction to ",(0,r.yg)("a",{parentName:"p",href:"/api/assertions/class/Ensure"},(0,r.yg)("inlineCode",{parentName:"a"},"Ensure.that")),",\nparameterised with a question about the ",(0,r.yg)("a",{parentName:"p",href:"/api/rest/class/LastResponse#status"},(0,r.yg)("inlineCode",{parentName:"a"},"LastResponse.status()"))," and an expectation that the status code ",(0,r.yg)("a",{parentName:"p",href:"/api/assertions/function/equals/"},"equals")," ",(0,r.yg)("inlineCode",{parentName:"p"},"201"),":"),(0,r.yg)(i.A,{groupId:"code-examples",mdxType:"Tabs"},(0,r.yg)(s.A,{value:"playwright-test",label:"Playwright Test",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="spec/online_shop.spec.ts" tab={"label":"Playwright Test"}',title:'"spec/online_shop.spec.ts"',tab:'{"label":"Playwright','Test"}':!0},"import { describe, it } from '@serenity-js/playwright-test'\nimport { Ensure, equals } from '@serenity-js/assertions'\nimport { Send, PostRequest, LastResponse } from '@serenity-js/rest'\n\ndescribe('Online shop', () => {\n\n  it('should allow customers to find products of interest', async ({ actorCalled }) => {\n\n    await actorCalled('Apisitt').attemptsTo(\n        Send.a(PostRequest.to('/products').with([\n            { name: 'Apples', price: '\xa32.50' }\n        ])),\n        Ensure.that(\n            LastResponse.status(),\n            equals(201)\n        )\n    )\n\n    // ...\n  })\n})\n"))),(0,r.yg)(s.A,{value:"webdriverio-with mocha",label:"WebdriverIO with Mocha",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="spec/online_shop.spec.ts" tab={"label":"WebdriverIO with Mocha"}',title:'"spec/online_shop.spec.ts"',tab:'{"label":"WebdriverIO',with:!0,'Mocha"}':!0},"import { describe, it } from 'mocha'\nimport { actorCalled } from '@serenity-js/core'\nimport { Ensure, equals } from '@serenity-js/assertions'\nimport { Send, PostRequest, LastResponse } from '@serenity-js/rest'\n\ndescribe('Online shop', () => {\n\n  it('should allow customers to find products of interest', async () => {\n\n    await actorCalled('Apisitt').attemptsTo(\n        Send.a(PostRequest.to('/products').with([\n            { name: 'Apples', price: '\xa32.50' }\n        ])),\n        Ensure.that(\n            LastResponse.status(),\n            equals(201)\n        )\n    )\n\n    // ...\n  })\n})\n"))),(0,r.yg)(s.A,{value:"webdriverio-with cucumber",label:"WebdriverIO with Cucumber",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="features/step_definitions/online_shop.steps.ts" tab={"label":"WebdriverIO with Cucumber"}',title:'"features/step_definitions/online_shop.steps.ts"',tab:'{"label":"WebdriverIO',with:!0,'Cucumber"}':!0},"import { Given, When, Then } from '@cucumber/cucumber'\nimport { actorCalled } from '@serenity-js/core'\nimport { Ensure, equals } from '@serenity-js/assertions'\nimport { Send, PostRequest } from '@serenity-js/rest'\n\n// Given the product catalogue has \"Apples\" at \xa32.50\nGiven('the product catalogue has {string} at \xa3{float}', async (product: string, price: number) => {\n\n    await actorCalled('Apisitt').attemptsTo(\n        Send.a(PostRequest.to('/products').with([\n            { name: product, price: `\xa3${price}` }\n        ])),\n        Ensure.that(\n            LastResponse.status(),\n            equals(201)\n        )\n    )\n})\n\n// ...\n")))),(0,r.yg)("p",null,"An excellent proof of the ",(0,r.yg)("strong",{parentName:"p"},"design consistency")," enabled by the Serenity/JS Screenplay Pattern is that\neven though Wendy uses a web browser and not an API client, the way we instruct her to answer ",(0,r.yg)("a",{parentName:"p",href:"/handbook/web-testing/"},"web questions"),"\nand ",(0,r.yg)("a",{parentName:"p",href:"/handbook/design/assertions#web-assertions"},"perform web assertions")," is identical with how you'd interact with any other interface:"),(0,r.yg)(i.A,{groupId:"code-examples",mdxType:"Tabs"},(0,r.yg)(s.A,{value:"playwright-test",label:"Playwright Test",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="spec/online_shop.spec.ts" tab={"label":"Playwright Test"}',title:'"spec/online_shop.spec.ts"',tab:'{"label":"Playwright','Test"}':!0},"import { describe, it } from '@serenity-js/playwright-test'\nimport { Ensure, equals, endsWith } from '@serenity-js/assertions'\nimport { Send, PostRequest, LastResponse } from '@serenity-js/rest'\nimport { Navigate, Page } from '@serenity-js/web'\n\ndescribe('Online shop', () => {\n\n  it('should allow customers to find products of interest', async ({ actorCalled }) => {\n\n    await actorCalled('Apisitt').attemptsTo(\n        Send.a(PostRequest.to('/products').with([\n            { name: 'Apples', price: '\xa32.50' }\n        ])),\n        Ensure.that(\n            LastResponse.status(),\n            equals(201)\n        )\n    )\n\n    await actorCalled('Wendy').attemptsTo(\n        Navigate.to('https://example.org'),\n        Ensure.that(\n            Page.current().title(),\n            endsWith('My Example Shop'),\n        )\n    )\n  })\n})\n"))),(0,r.yg)(s.A,{value:"webdriverio-with mocha",label:"WebdriverIO with Mocha",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="spec/online_shop.spec.ts" tab={"label":"WebdriverIO with Mocha"}',title:'"spec/online_shop.spec.ts"',tab:'{"label":"WebdriverIO',with:!0,'Mocha"}':!0},"import { describe, it } from 'mocha'\nimport { actorCalled } from '@serenity-js/core'\nimport { Ensure, equals, endsWith } from '@serenity-js/assertions'\nimport { Send, PostRequest, LastResponse } from '@serenity-js/rest'\nimport { Navigate, Page } from '@serenity-js/web'\n\ndescribe('Online shop', () => {\n\n  it('should allow customers to find products of interest', async () => {\n\n    await actorCalled('Apisitt').attemptsTo(\n        Send.a(PostRequest.to('/products').with([\n            { name: 'Apples', price: '\xa32.50' }\n        ])),\n        Ensure.that(\n            LastResponse.status(),\n            equals(201)\n        )\n    )\n\n    await actorCalled('Wendy').attemptsTo(\n        Navigate.to('https://example.org'),\n        Ensure.that(\n            Page.current().title(),\n            endsWith('My Example Shop'),\n        )\n    )\n  })\n})\n"))),(0,r.yg)(s.A,{value:"webdriverio-with cucumber",label:"WebdriverIO with Cucumber",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="features/step_definitions/online_shop.steps.ts" tab={"label":"WebdriverIO with Cucumber"}',title:'"features/step_definitions/online_shop.steps.ts"',tab:'{"label":"WebdriverIO',with:!0,'Cucumber"}':!0},"import { Given, When, Then } from '@cucumber/cucumber'\nimport { actorCalled } from '@serenity-js/core'\nimport { Ensure, equals, endsWith } from '@serenity-js/assertions'\nimport { Send, PostRequest, LastResponse } from '@serenity-js/rest'\nimport { Navigate, Page } from '@serenity-js/web'\n\n// Given the product catalogue has \"Apples\" at \xa32.50\nGiven('the product catalogue has {string} at \xa3{float}', async (product: string, price: number) => {\n\n    await actorCalled('Apisitt').attemptsTo(\n        Send.a(PostRequest.to('/products').with([\n            { name: product, price: `\xa3${price}` }\n        ])),\n        Ensure.that(\n            LastResponse.status(),\n            equals(201)\n        )\n    )\n})\n\n// When Wendy looks for \"Apples\"\nWhen('{word} looks for {string}', async (actor: string, product: string) => {\n    await actorCalled(actor).attemptsTo(\n        Navigate.to('https://example.org'),\n        Ensure.that(\n            Page.current().title(),\n            endsWith('My Example Shop'),\n        )\n    )\n})\n")))),(0,r.yg)("p",null,"Learn more about:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/api/core/class/Question"},"Questions")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/handbook/design/assertions"},"Assertions and expectations")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/handbook/design/logging"},"Logging")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/handbook/design/debugging"},"Debugging"))),(0,r.yg)("h3",{id:"tasks"},"Tasks"),(0,r.yg)("p",null,"The idea that underpins the Screenplay Pattern is to ",(0,r.yg)("strong",{parentName:"p"},"capture your domain language")," and use your acceptance tests as an opportunity to demonstrate\nhow actors interacting with your system accomplish their goals."),(0,r.yg)("p",null,"Conceptually similar to standard JavaScript functions, ",(0,r.yg)("a",{parentName:"p",href:"/api/core/class/Task"},(0,r.yg)("strong",{parentName:"a"},"tasks"))," offer an easy way to ",(0,r.yg)("strong",{parentName:"p"},"associate business meaning")," with ",(0,r.yg)("strong",{parentName:"p"},"sequences of activities"),"\nand turn them into ",(0,r.yg)("strong",{parentName:"p"},"reusable building blocks")," from which your team can assemble test scenarios."),(0,r.yg)("p",null,"For example, we can use Serenity/JS convenient ",(0,r.yg)("a",{parentName:"p",href:"/api/core/class/Task/#where"},(0,r.yg)("inlineCode",{parentName:"a"},"Task.where"))," method to define custom tasks that capture how an actor would set up a product catalogue or open an online store:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="spec/tasks.ts"',title:'"spec/tasks.ts"'},"import { Task } from '@serenity-js/core'\nimport { Send, PostRequest, LastResponse } from '@serenity-js/rest'\nimport { Navigate, Page } from '@serenity-js/web'\nimport { Ensure, equals, endsWith } from '@serenity-js/assertions'\n\nexport interface Product {\n    name:  string;\n    price: string;\n}\n\nexport const setupProductCatalogue = (products: Product[]) =>\n    Task.where(`#actor sets up the product catalogue`,\n        Send.a(PostRequest.to('/products').with(products)),\n        Ensure.that(\n            LastResponse.status(),\n            equals(201)\n        )\n    )\n\nexport const openOnlineStore = () =>\n    Task.where(`#actor opens the online store`,\n        Navigate.to('https://example.org'),\n        Ensure.that(\n            Page.current().title(),\n            endsWith('My Example Shop'),\n        )\n    )\n")),(0,r.yg)("p",null,"As you can see, custom tasks like these are easy to read and understand, and can be parameterised and reused across different test scenarios, test suites, or even across different projects and teams.\nTasks can help you capture the domain language, provide a consistent way to structure your test scenarios, and make your test code reusable and easier to maintain."),(0,r.yg)(i.A,{groupId:"code-examples",mdxType:"Tabs"},(0,r.yg)(s.A,{value:"playwright-test",label:"Playwright Test",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="spec/online_shop.spec.ts" tab={"label":"Playwright Test"}',title:'"spec/online_shop.spec.ts"',tab:'{"label":"Playwright','Test"}':!0},"import { describe, it } from '@serenity-js/playwright-test'\n\nimport { setupProductCatalogue, openOnlineStore } from './tasks'\n\ndescribe('Online shop', () => {\n\n  it('should allow customers to find products of interest', async ({ actorCalled }) => {\n\n    await actorCalled('Apisitt').attemptsTo(\n        setupProductCatalogue([\n            { name: 'Apples', price: '\xa32.50' }\n        ])\n    )\n\n    await actorCalled('Wendy').attemptsTo(\n        openOnlineStore(),\n        // ... other tasks, like findProductCalled('Apples'),\n    )\n  })\n})\n"))),(0,r.yg)(s.A,{value:"webdriverio-with mocha",label:"WebdriverIO with Mocha",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="spec/online_shop.spec.ts" tab={"label":"WebdriverIO with Mocha"}',title:'"spec/online_shop.spec.ts"',tab:'{"label":"WebdriverIO',with:!0,'Mocha"}':!0},"import { describe, it } from 'mocha'\nimport { actorCalled } from '@serenity-js/core'\n\nimport { setupProductCatalogue, openOnlineStore } from './tasks'\n\ndescribe('Online shop', () => {\n\n  it('should allow customers to find products of interest', async () => {\n\n    await actorCalled('Apisitt').attemptsTo(\n        setupProductCatalogue([\n            { name: 'Apples', price: '\xa32.50' }\n        ])\n    )\n\n    await actorCalled('Wendy').attemptsTo(\n        openOnlineStore(),\n        // ... other tasks, like findProductCalled('Apples'),\n    )\n  })\n})\n"))),(0,r.yg)(s.A,{value:"webdriverio-with cucumber",label:"WebdriverIO with Cucumber",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="features/step_definitions/online_shop.steps.ts" tab={"label":"WebdriverIO with Cucumber"}',title:'"features/step_definitions/online_shop.steps.ts"',tab:'{"label":"WebdriverIO',with:!0,'Cucumber"}':!0},"import { Given, When, Then } from '@cucumber/cucumber'\nimport { actorCalled } from '@serenity-js/core'\n\nimport { setupProductCatalogue, openOnlineStore } from './tasks'\n\n// Given the product catalogue has \"Apples\" at \xa32.50\nGiven('the product catalogue has {string} at \xa3{float}', async (product: string, price: number) => {\n    await actorCalled('Apisitt').attemptsTo(\n        setupProductCatalogue([\n            { name: 'Apples', price: '\xa32.50' }\n        ])\n    )\n})\n\n// When Wendy looks for \"Apples\"\nWhen('{word} looks for {string}', async (actor: string, product: string) => {\n    await actorCalled(actor).attemptsTo(\n        openOnlineStore(),\n        // ... other tasks, like findProductCalled(product),\n    )\n})\n")))),(0,r.yg)("p",null,"Learn more about:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/api/core/class/Actor"},"Actors")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/api/core/class/Task"},"Tasks"))),(0,r.yg)("h2",{id:"performing-activities-at-multiple-levels"},"Performing activities at multiple levels"),(0,r.yg)("p",null,"The role of an actor is to perform ",(0,r.yg)("a",{parentName:"p",href:"/api/core/class/Activity"},"activities")," that demonstrate how to accomplish a given goal."),(0,r.yg)("admonition",{title:"Remember",type:"tip"},(0,r.yg)("p",{parentName:"admonition"},(0,r.yg)("strong",{parentName:"p"},"Actors")," represent ",(0,r.yg)("strong",{parentName:"p"},"people")," and ",(0,r.yg)("strong",{parentName:"p"},"external systems")," interacting with the system under test.")),(0,r.yg)("p",null,"For example, we might have an acceptance test that demonstrates how the system under test enables an actor to accomplish the goal of booking a plane\nticket.\nIf we were using Serenity/JS with a spec-style test runner like ",(0,r.yg)("a",{parentName:"p",href:"/handbook/test-runners/jasmine"},"Jasmine"),", ",(0,r.yg)("a",{parentName:"p",href:"/handbook/test-runners/mocha"},"Mocha"),", or ",(0,r.yg)("a",{parentName:"p",href:"/handbook/test-runners/playwright-test"},"Playwright Test"),",\nwe could implement such scenario like this:"),(0,r.yg)(i.A,{groupId:"code-examples",mdxType:"Tabs"},(0,r.yg)(s.A,{value:"playwright-test",label:"Playwright Test",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-typescript",metastring:'tab={"label":"Playwright Test"}',tab:'{"label":"Playwright','Test"}':!0},"import { describe, it, test } from '@serenity-js/playwright-test'\n\ntest.use({ defaultActorName: 'Trevor' })\n\ndescribe('Serenity Airlines flight booking', () => {                            // system feature\n\n  it('should allow travellers to book a plane ticket', async ({ actor }) => {   // scenario goal\n    await actor.attemptsTo(\n      findFlight('London', 'New York'),                                         // activities\n      chooseFlightClass(FlightClass.Economy),\n      providePaymentDetails(defaultCard),\n      receiveBookingConfirmation(),\n    )\n  })\n})\n"))),(0,r.yg)(s.A,{value:"mocha",label:"Mocha",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-typescript",metastring:'tab={"label":"Mocha"}',tab:'{"label":"Mocha"}'},"import { actorCalled } from '@serenity-js/core'\nimport { describe, it } from 'mocha'\n\ndescribe('Serenity Airlines flight booking', () => {                            // system feature\n\n  it('should allow travellers to book a plane ticket', () => {                  // scenario goal\n    await actorCalled('Trevor').attemptsTo(\n      findFlight('London', 'New York'),                                         // activities\n      chooseFlightClass(FlightClass.Economy),\n      providePaymentDetails(defaultCard),\n      receiveBookingConfirmation(),\n    )\n  })\n})\n"))),(0,r.yg)(s.A,{value:"jasmine",label:"Jasmine",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-typescript",metastring:'tab={"label":"Jasmine"}',tab:'{"label":"Jasmine"}'},"import { actorCalled } from '@serenity-js/core'\n\ndescribe('Serenity Airlines flight booking', () => {                            // system feature\n\n  it('should allow travellers to book a plane ticket', () => {                  // scenario goal\n    await actorCalled('Trevor').attemptsTo(\n      findFlight('London', 'New York'),                                         // activities\n      chooseFlightClass(FlightClass.Economy),\n      providePaymentDetails(defaultCard),\n      receiveBookingConfirmation(),\n    )\n  })\n})\n")))),(0,r.yg)("p",null,"If we were using ",(0,r.yg)("a",{parentName:"p",href:"/handbook/test-runners/cucumber"},"Cucumber.js"),", the name of the feature, the goal of the scenario,\nas well as the high-level steps necessary to achieve the goal would already be captured in our ",(0,r.yg)("a",{parentName:"p",href:"https://cucumber.io/docs/gherkin/reference/"},(0,r.yg)("inlineCode",{parentName:"a"},".feature"))," files:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-gherkin"},"Feature: Serenity Airlines flight booking                                       # system feature\n\n  Scenario: traveller books a plane ticket                                      # scenario goal\n\n    Given Trevor finds a flight from 'London' to 'New York'                     # high-level steps\n      And he chooses the 'Economy' flight class\n     When he provides his payment details\n     Then he should receive a booking confirmation\n")),(0,r.yg)("p",null,"In this case, each Cucumber ",(0,r.yg)("a",{parentName:"p",href:"https://cucumber.io/docs/cucumber/step-definitions/?lang=javascript"},"step definition")," is mapped\nto a Serenity/JS actor performing one or more activities.\nCompleting those activities helps the actor accomplish the mini-goal of the associated Cucumber step:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-typescript"},"import { Given } from '@cucumber/cucumber'\nimport { Actor } from '@serenity-js/core'\n\nGiven('{actor} finds a flight from {string} to {string}',                       // step goal\n  async (actor: Actor, origin: string, destination: string) => {\n    await actor.attemptsTo(\n      findFlight(origin, destination),                                          // activities\n    )\n  }\n)\n\nGiven(`{pronoun} chooses the '{flightClass}' flight class`,                     // step goal\n  async (actor: Actor, flightClass: FlightClass) => {\n    await actor.attemptsTo(\n      chooseFlightClass(flightClass),                                           // activities\n    )\n  }\n)\n")),(0,r.yg)("p",null,"From the implementation perspective, functions like ",(0,r.yg)("inlineCode",{parentName:"p"},"findFlight")," or ",(0,r.yg)("inlineCode",{parentName:"p"},"providePaymentDetails")," produce ",(0,r.yg)("a",{parentName:"p",href:"/api/core/class/Activity"},"activities"),",\nwhich are ",(0,r.yg)("a",{parentName:"p",href:"https://refactoring.guru/design-patterns/command"},"command objects")," that encapsulate information needed for the actor to perform some defined action."),(0,r.yg)("p",null,"The way you instruct an actor to perform some activities is always exactly the same, no matter the kind of test you write\nor the type of interface the actor interacts with - you pass them to the ",(0,r.yg)("a",{parentName:"p",href:"/api/core/class/Actor#attemptsTo"},(0,r.yg)("inlineCode",{parentName:"a"},"Actor.attemptsTo"))," method.\nThis method call makes the actor attempt to perform the activities one by one and returns a standard JavaScript ",(0,r.yg)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"},(0,r.yg)("inlineCode",{parentName:"a"},"Promise")),"\nthat's resolved when the process is finished, or rejected in case of any errors:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-typescript"},"import { actorCalled } from '@serenity-js/core'\n\nawait actorCalled('Alice').attemptsTo(\n    activity1,\n    activity2,\n    activity3,\n    // ...\n)\n// returns: Promise<void>\n")),(0,r.yg)("p",null,"Looking at activities from the ",(0,r.yg)("em",{parentName:"p"},"design philosophy perspective"),", however, can be much more interesting."),(0,r.yg)("p",null,"The role of an actor is not ",(0,r.yg)("em",{parentName:"p"},"just")," to perform ",(0,r.yg)("em",{parentName:"p"},"any")," activities. It is to perform activities that demonstrate how a goal can be accomplished at the given ",(0,r.yg)("strong",{parentName:"p"},"level of abstraction"),".\nThe interesting bit is that the way we describe what the goal is and the vocabulary we use to describe what activities it requires vary depending on the level of abstraction we're operating at."),(0,r.yg)("admonition",{title:"Remember",type:"tip"},(0,r.yg)("p",{parentName:"admonition"},(0,r.yg)("strong",{parentName:"p"},"Actors")," demonstrate how to accomplish a ",(0,r.yg)("strong",{parentName:"p"},"goal")," by performing ",(0,r.yg)("strong",{parentName:"p"},"activities")," at multiple ",(0,r.yg)("strong",{parentName:"p"},"levels of abstraction"),".")),(0,r.yg)("p",null,"At the ",(0,r.yg)("strong",{parentName:"p"},"high levels of abstraction"),", e.g. in business-focused acceptance test scenarios,\nthe vocabulary we use is rooted in the ",(0,r.yg)("strong",{parentName:"p"},"business domain"),", and so are the names we choose for the activities."),(0,r.yg)("p",null,"For example, an acceptance test scenario might state that for the system to enable the actor to accomplish the ",(0,r.yg)("strong",{parentName:"p"},"goal")," of ",(0,r.yg)("em",{parentName:"p"},"booking a plane ticket"),",\nan actor should be able to successfully perform the following ",(0,r.yg)("strong",{parentName:"p"},"high-level activities"),":"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"find an appropriate flight connection,"),(0,r.yg)("li",{parentName:"ul"},"choose flight class,"),(0,r.yg)("li",{parentName:"ul"},"provide payment details,"),(0,r.yg)("li",{parentName:"ul"},"receive booking confirmation.")),(0,r.yg)("p",null,"The names we give functions that produce those activities, such as ",(0,r.yg)("inlineCode",{parentName:"p"},"findFlight")," or ",(0,r.yg)("inlineCode",{parentName:"p"},"chooseFlightClass"),",\nrepresent those steps in the business process and are agnostic of the interface through which actors interact with the system under test."),(0,r.yg)("admonition",{title:"Model the expected process, not the existing implementation",type:"info"},(0,r.yg)("p",{parentName:"admonition"},"When describing an acceptance test at a high level of abstraction,\nthe way we ",(0,r.yg)("strong",{parentName:"p"},"name the activities")," is focused on representing the steps of the ",(0,r.yg)("strong",{parentName:"p"},"expected business process"),"\nand ",(0,r.yg)("strong",{parentName:"p"},"not tied to the implementation"),' of any specific interface of the system under test.\n"Find an appropriate flight connection", "choose flight class", or "provide payment details"\nare all good examples of such high-level activity names.'),(0,r.yg)("p",{parentName:"admonition"},"This design approach helps to produce test scenarios that are ",(0,r.yg)("strong",{parentName:"p"},"easier to read and understand")," and to a much ",(0,r.yg)("strong",{parentName:"p"},"wider audience")," than the traditional test scripts.\nIt also results in two other major advantages:"),(0,r.yg)("ul",{parentName:"admonition"},(0,r.yg)("li",{parentName:"ul"},"once the business process is clearly described in our test scenario, we can often use our acceptance tests to identify ",(0,r.yg)("strong",{parentName:"li"},"obstacles in user journeys"),", or even ",(0,r.yg)("strong",{parentName:"li"},"highlight errors")," and ",(0,r.yg)("strong",{parentName:"li"},"hidden assumptions")," in the ",(0,r.yg)("strong",{parentName:"li"},"business process")," itself"),(0,r.yg)("li",{parentName:"ul"},"since we're not tying the implementation to any particular interface, we leave ourselves ",(0,r.yg)("strong",{parentName:"li"},"more integration options")," when it comes to automation.")),(0,r.yg)("p",{parentName:"admonition"},"After all, most business process steps could be accomplished in different ways.\nAn actor could ",(0,r.yg)("inlineCode",{parentName:"p"},"findFlight")," by interacting with a web UI, a mobile app, by sending requests to a web service, or even by actually going to the ticket office at the airport!")),(0,r.yg)("p",null,"At the ",(0,r.yg)("strong",{parentName:"p"},"low level of abstraction"),", e.g. in UI component tests, the vocabulary we use to describe actor's activities\nis focused on the ",(0,r.yg)("strong",{parentName:"p"},"interface")," the actor needs to interact with.\nHere the goal might be to ",(0,r.yg)("em",{parentName:"p"},"use the web UI to specify the origin airport"),". To accomplish it, the actor would need to:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"click on the ",(0,r.yg)("inlineCode",{parentName:"li"},"origin airport")," widget"),(0,r.yg)("li",{parentName:"ul"},"enter the name of the origin city, like ",(0,r.yg)("inlineCode",{parentName:"li"},"London")),(0,r.yg)("li",{parentName:"ul"},"pick the first suggested airport from the list")),(0,r.yg)("admonition",{title:"Remember",type:"tip"},(0,r.yg)("p",{parentName:"admonition"},"The core idea behind the Screenplay Pattern is to express the acceptance tests from the perspective of ",(0,r.yg)("strong",{parentName:"p"},"actors"),"\nplaying a certain ",(0,r.yg)("strong",{parentName:"p"},"role")," and attempting to accomplish their ",(0,r.yg)("strong",{parentName:"p"},"goals")," by performing ",(0,r.yg)("strong",{parentName:"p"},"activities")," at ",(0,r.yg)("strong",{parentName:"p"},"multiple levels")," of abstraction.")),(0,r.yg)("p",null,"Of course, most activities fall ",(0,r.yg)("strong",{parentName:"p"},"somewhere in between")," the high and low levels of abstraction.\nFurthermore, turns out that ",(0,r.yg)("strong",{parentName:"p"},"higher-level")," activities can be ",(0,r.yg)("strong",{parentName:"p"},"composed of lower-level activities"),",\nwhich themselves could be composed of ",(0,r.yg)("em",{parentName:"p"},(0,r.yg)("strong",{parentName:"em"},"even lower-level activities")),"!"),(0,r.yg)("p",null,"If you're familiar with ",(0,r.yg)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/User_experience_design"},"User Experience Design"),",\nyou might recognise this style of ",(0,r.yg)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Functional_decomposition"},"functional decomposition"),"\nfrom ",(0,r.yg)("a",{parentName:"p",href:"https://janmolak.com/user-centred-design-how-a-50-year-old-technique-became-the-key-to-scalable-test-automation-66a658a36555"},"Hierarchical Task Analysis"),"."),(0,r.yg)("p",null,"The fascinating aspect of looking at your test scenarios as sequences of activities made up of activities,\nmade up of activities, is that this mental model lends itself perfectly to ",(0,r.yg)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Function_composition_(computer_science)"},"functional composition"),"\nand making ",(0,r.yg)("em",{parentName:"p"},"activities")," the primary component of code reuse in Serenity/JS."),(0,r.yg)("h2",{id:"start-with-serenityjs-screenplay-pattern-"},"Start with Serenity/JS Screenplay Pattern \ud83d\ude80"),(0,r.yg)("p",null,"The easiest way to ",(0,r.yg)("strong",{parentName:"p"},"experience")," working with Serenity/JS and the Screenplay Pattern is\nto ",(0,r.yg)("strong",{parentName:"p"},"follow the tutorial")," and write ",(0,r.yg)("a",{parentName:"p",href:"/handbook/web-testing/your-first-web-scenario"},(0,r.yg)("strong",{parentName:"a"},"your first web scenario")),"!"),(0,r.yg)("p",null,"When you're ready to ",(0,r.yg)("strong",{parentName:"p"},"start your own test automation project"),", use one of the available ",(0,r.yg)("a",{parentName:"p",href:"/handbook/getting-started/project-templates/"},(0,r.yg)("strong",{parentName:"a"},"Serenity/JS Project Templates")),"\nas they include a handful of Screenplay scenarios and combine some of the most popular configurations of Serenity/JS modules and test automation tools:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/serenity-js/serenity-js-cucumber-template"},"REST API testing with Cucumber and Serenity/JS")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/serenity-js/serenity-js-mocha-template"},"REST API testing with Mocha and Serenity/JS")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/serenity-js/serenity-js-cucumber-playwright-template"},"Web testing with Cucumber, Playwright, and Serenity/JS")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/serenity-js/serenity-js/tree/main/examples/playwright-test-todomvc"},"Web testing with Playwright Test and Serenity/JS")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/serenity-js/serenity-js/tree/main/examples/webdriverio-mocha-todomvc"},"Web testing with WebdriverIO, Mocha, and Serenity/JS")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/serenity-js/serenity-js-cucumber-webdriverio-template"},"Web testing with WebdriverIO, Cucumber, and Serenity/JS"))),(0,r.yg)("p",null,"To dive even deeper, check out the ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/serenity-js/serenity-js"},"Serenity/JS repository"),"\nand explore the ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/serenity-js/serenity-js/tree/main/examples"},"examples"),"."),(0,r.yg)("admonition",{title:"Try Serenity/JS in your browser",type:"tip"},(0,r.yg)("p",{parentName:"admonition"},"Thanks to ",(0,r.yg)("a",{parentName:"p",href:"/handbook/getting-started#serenityjs-gitpods"},"Gitpod.io"),",\nyou can follow the ",(0,r.yg)("a",{parentName:"p",href:"/handbook/web-testing/your-first-web-scenario"},"web testing tutorial"),"\nand use any of the ",(0,r.yg)("a",{parentName:"p",href:"/handbook/getting-started/project-templates/"},"Serenity/JS Project Templates")," right here in your browser,\nno local installation required! \ud83d\ude80")),(0,r.yg)("h2",{id:"history-of-the-screenplay-pattern"},"History of the Screenplay Pattern"),(0,r.yg)("p",null,(0,r.yg)("a",{parentName:"p",href:"https://github.com/serenity-js"},"Serenity/JS")," introduced the Screenplay Pattern to JavaScript back in 2016,\nbut the ideas behind the pattern have been around since 2007 in various forms."),(0,r.yg)("p",null,"This list is a chronological order of significant events, implementations, and writings related to the evolution of the Screenplay Pattern."),(0,r.yg)("admonition",{title:"Credits",type:"note"},(0,r.yg)("ul",{parentName:"admonition"},(0,r.yg)("li",{parentName:"ul"},"2007: ",(0,r.yg)("abbr",{title:"Agile Alliance Functional Test Tools"},"AAFTT")," workshop - ",(0,r.yg)("a",{parentName:"li",href:"https://developertesting.com/archives/month200710/20071013-In%20Praise%20of%20Abstraction.html"},"In praise of abstraction")," - ",(0,r.yg)("strong",{parentName:"li"},"Kevin Lawrence")," introduces the idea of using the language of interaction designers to model automated tests"),(0,r.yg)("li",{parentName:"ul"},"2007: ",(0,r.yg)("abbr",{title:"Agile Alliance Functional Test Tools"},"AAFTT")," workshop - ",(0,r.yg)("a",{parentName:"li",href:"http://antonymarcano.com/"},(0,r.yg)("strong",{parentName:"a"},"Antony Marcano"))," demonstrates the ",(0,r.yg)("a",{parentName:"li",href:"http://antonymarcano.com/blog/2011/03/goals-tasks-action/"},'"Roles, Goals, Tasks, Actions" model'),", which later evolves into the Screenplay Pattern"),(0,r.yg)("li",{parentName:"ul"},"2008: ",(0,r.yg)("a",{parentName:"li",href:"https://www.slideshare.net/RiverGlide/a-journey-beyond-the-page-object-pattern"},"JNarrate"),' - first experimental Java implementation of the "Roles, Goals, Tasks, Actions" model by Antony Marcano and ',(0,r.yg)("a",{parentName:"li",href:"https://andypalmer.com/"},(0,r.yg)("strong",{parentName:"a"},"Andy Palmer"))),(0,r.yg)("li",{parentName:"ul"},"2011: ",(0,r.yg)("a",{parentName:"li",href:"https://github.com/RiverGlide/CukeSalad/"},"Cuke Salad"),' - Ruby implementation of the "Roles, Goals, Tasks, Actions" model by Antony Marcano'),(0,r.yg)("li",{parentName:"ul"},"2011: ",(0,r.yg)("a",{parentName:"li",href:"http://antonymarcano.com/blog/2011/03/goals-tasks-action/"},"A bit of UCD for BDD & ATDD: Goals -> Tasks -> Actions"),' - blog post by Antony Marcano explaining the motivation behind the "Roles, Goals, Tasks, Actions" model'),(0,r.yg)("li",{parentName:"ul"},"2012: ",(0,r.yg)("a",{parentName:"li",href:"https://bitbucket-archive.softwareheritage.org/projects/te/testingreflections/screenplay4j.html"},"Screenplay4j")," - first public Java implementation by Antony Marcano and Andy Palmer"),(0,r.yg)("li",{parentName:"ul"},"2012: ",(0,r.yg)("a",{parentName:"li",href:"https://skillsmatter.com/skillscasts/3141-user-centred-scenarios-describing-capabilities-not-solutions"},"User Centred Scenarios: Describing capabilities, not solutions")," - talk by Antony Marcano and ",(0,r.yg)("strong",{parentName:"li"},"James Martin")),(0,r.yg)("li",{parentName:"ul"},"2013: ",(0,r.yg)("a",{parentName:"li",href:"https://github.com/screenplay/screenplay-jvm"},"ScreenplayJVM")," - Java implementation by Antony Marcano and ",(0,r.yg)("a",{parentName:"li",href:"https://linkedin.com/in/janmolak"},(0,r.yg)("strong",{parentName:"a"},"Jan Molak"))),(0,r.yg)("li",{parentName:"ul"},"2013: ",(0,r.yg)("a",{parentName:"li",href:"https://www.slideshare.net/RiverGlide/a-journey-beyond-the-page-object-pattern"},"A journey beyond the page object pattern")," - talk by Antony Marcano, Jan Molak and ",(0,r.yg)("a",{parentName:"li",href:"https://www.linkedin.com/in/kostasmamalis"},(0,r.yg)("strong",{parentName:"a"},"Kostas Mamalis"))),(0,r.yg)("li",{parentName:"ul"},"2015: ",(0,r.yg)("a",{parentName:"li",href:"http://serenity-bdd.info/"},"Serenity BDD")," - ",(0,r.yg)("a",{parentName:"li",href:"https://www.linkedin.com/in/john-ferguson-smart/"},(0,r.yg)("strong",{parentName:"a"},"John Ferguson Smart"))," and Jan Molak, along with Andy Palmer and Antony Marcano, add native support for the Screenplay Pattern to Serenity BDD, popularising the pattern in the Java testing community"),(0,r.yg)("li",{parentName:"ul"},"2016: ",(0,r.yg)("a",{parentName:"li",href:"https://www.infoq.com/articles/Beyond-Page-Objects-Test-Automation-Serenity-Screenplay/"},"Beyond Page Objects: Next Generation Test Automation with Serenity and the Screenplay Pattern")," by Andy Palmer, Antony Marcano, John Ferguson Smart, and Jan Molak"),(0,r.yg)("li",{parentName:"ul"},"2016: ",(0,r.yg)("a",{parentName:"li",href:"https://dzone.com/articles/page-objects-refactored-solid-steps-to-the-screenp"},"Page Objects Refactored: SOLID Steps to the Screenplay/Journey Pattern")," - by Antony Marcano, Andy Palmer, John Ferguson Smart, and Jan Molak"),(0,r.yg)("li",{parentName:"ul"},"2016: ",(0,r.yg)("a",{parentName:"li",href:"https://testerstories.com/2016/06/screenplays-and-journeys-not-page-objects/"},"Screenplays and Journeys, Not Page Objects")," - blog post by Jeff Nyman"),(0,r.yg)("li",{parentName:"ul"},"2016: ",(0,r.yg)("a",{parentName:"li",href:"https://serenity-js.org/handbook/design/screenplay-pattern.html"},"Screenplay Pattern")," as described by Jan Molak"),(0,r.yg)("li",{parentName:"ul"},"2016: ",(0,r.yg)("a",{parentName:"li",href:"https://github.com/serenity-js/serenity-js"},"Serenity/JS")," - Jan Molak starts the Serenity/JS project - the original JavaScript/TypeScript implementation of the Screenplay Pattern"),(0,r.yg)("li",{parentName:"ul"},"2017: ",(0,r.yg)("a",{parentName:"li",href:"https://www.slideshare.net/janmolak/testing-modern-webapps-at-scale"},"Testing modern webapps. At scale."),' - Jan Molak introduces the idea of "Blended Testing" - making Screenplay Pattern tests scenarios interact with multiple interfaces as a way to improve test performance and encourage code reuse'),(0,r.yg)("li",{parentName:"ul"},"2017: ",(0,r.yg)("a",{parentName:"li",href:"https://speakerdeck.com/npryce/having-our-cake-and-eating-it-1"},"Having Our Cake and Eating It")," - ",(0,r.yg)("a",{parentName:"li",href:"http://www.natpryce.com/"},"Nat Pryce")," introduces the idea of using the Screenplay Pattern to write tests that run in milliseconds"),(0,r.yg)("li",{parentName:"ul"},"2019: ",(0,r.yg)("a",{parentName:"li",href:"https://pypi.org/project/screenpy/"},"ScreenPy")," - Python implementation of the Screenplay Pattern by ",(0,r.yg)("a",{parentName:"li",href:"https://www.linkedin.com/in/perry-goy/"},"Perry Goy"),", inspired by Serenity BDD and Serenity/JS implementations"),(0,r.yg)("li",{parentName:"ul"},"2020: ",(0,r.yg)("a",{parentName:"li",href:"https://automationpanda.com/2020/10/16/introducing-boa-constrictor-the-net-screenplay-pattern/"},"Boa Constrictor")," - a .NET implementation of Screenplay by ",(0,r.yg)("a",{parentName:"li",href:"https://automationpanda.com/"},"Andrew Knight"),", inspired by Serenity BDD and Serenity/JS"),(0,r.yg)("li",{parentName:"ul"},"2020: ",(0,r.yg)("a",{parentName:"li",href:"https://cucumber.io/blog/bdd/understanding-screenplay-(part-1)/"},"Understanding Screenplay")," - blog series by ",(0,r.yg)("a",{parentName:"li",href:"https://blog.mattwynne.net/"},"Matt Wynne")),(0,r.yg)("li",{parentName:"ul"},"2021: ",(0,r.yg)("a",{parentName:"li",href:"https://github.com/cucumber/screenplay.js"},"Cucumber Screenplay")," and ",(0,r.yg)("a",{parentName:"li",href:"https://github.com/subsecondtdd/todo-subsecond"},"Sub-second TDD")," - implementation by ",(0,r.yg)("a",{parentName:"li",href:"https://www.aslakhellesoy.com/"},"Aslak Helles\xf8y"),", building on the Screenplay Pattern, and further exploring Nat Pryce's idea of sub-second acceptance tests and Jan Molak's \"blended testing\""),(0,r.yg)("li",{parentName:"ul"},"2021: ",(0,r.yg)("a",{parentName:"li",href:"https://www.manning.com/books/bdd-in-action-second-edition"},"BDD in Action, 2nd Edition")," by John Ferguson Smart and Jan Molak includes several chapters and many examples of using the Screenplay Pattern in Java and TypeScript"))))}d.isMDXComponent=!0}}]);